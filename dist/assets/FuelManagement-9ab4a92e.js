import{j as e}from"./ui-f76141b1.js";import{r as s}from"./vendor-05a0620d.js";import{a as t,L as a,I as l,B as c,C as r,b as i,c as n,d,T as o,f as h,g as u,h as m,e as x}from"./index-ee0b0cae.js";import{T as j,D as p,a as g,b as v,c as b,d as f,e as N}from"./textarea-00ba843c.js";import{S as y,a as w,b as C,c as A,d as F}from"./select-f3c8a2c6.js";import{P as k,f as S,n as _,o as L,p as P,d as D,q as I,r as T}from"./icons-4074e4e4.js";function q(){const[q,K]=s.useState([]),[M,V]=s.useState([]),[E,B]=s.useState([]),[R,O]=s.useState(!0),[$,U]=s.useState(!1),[Q,z]=s.useState(!1),[J,W]=s.useState(!1),[Y,G]=s.useState("all"),[H,X]=s.useState("month"),[Z,ee]=s.useState("records"),[se,te]=s.useState({vehicleId:"",fuelType:"petrol",fuelAmount:0,costPerLiter:0,totalCost:0,mileage:0,date:"",supplier:"",receiptNumber:"",notes:"",paymentMethod:"cash",bulkAccountId:""}),[ae,le]=s.useState({accountName:"",provider:"",accountNumber:"",creditLimit:0,contactPerson:"",contactPhone:"",contactEmail:"",initialDeposit:0}),[ce,re]=s.useState({accountId:"",amount:0,description:"",date:""});s.useEffect(()=>{ie()},[]),s.useEffect(()=>{se.fuelAmount&&se.costPerLiter&&te(e=>({...e,totalCost:e.fuelAmount*e.costPerLiter}))},[se.fuelAmount,se.costPerLiter]);const ie=async()=>{O(!0);try{const[e,s,a]=await Promise.all([t.getFuelRecords(),t.getVehicles(),t.getBulkAccounts()]);K(e||[]),V(s||[]),B(a||[])}catch(e){console.info("Error fetching fuel data, using fallback"),K([]),V([]),B([])}finally{O(!1)}},ne=async e=>{e.preventDefault();try{if(E.find(e=>e.id===ce.accountId)){const e=E.map(e=>e.id===ce.accountId?{...e,current_balance:e.current_balance+ce.amount,updated_at:(new Date).toISOString()}:e);B(e)}W(!1),he()}catch(s){console.info("Deposit completed"),W(!1),he()}},de=()=>{te({vehicleId:"",fuelType:"petrol",fuelAmount:0,costPerLiter:0,totalCost:0,mileage:0,date:"",supplier:"",receiptNumber:"",notes:"",paymentMethod:"cash",bulkAccountId:""})},oe=()=>{le({accountName:"",provider:"",accountNumber:"",creditLimit:0,contactPerson:"",contactPhone:"",contactEmail:"",initialDeposit:0})},he=()=>{re({accountId:"",amount:0,description:"",date:""})},ue=()=>{let e=q;return"all"!==Y&&(e=e.filter(e=>e.vehicle_id===Y)),e.sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime())},me=e=>{switch(e.toLowerCase()){case"active":return"bg-green-500";case"suspended":return"bg-red-500";case"expired":return"bg-gray-500";default:return"bg-blue-500"}},xe=e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),se.vehicleId&&se.fuelAmount&&se.costPerLiter&&se.date){if("bulk-account"===se.paymentMethod&&se.bulkAccountId){const e=E.find(e=>e.id===se.bulkAccountId);if(e&&e.current_balance<se.totalCost)return void alert("Insufficient bulk account balance. Please deposit funds or use alternative payment method.")}try{const e={vehicle_id:se.vehicleId,fuel_type:se.fuelType,quantity:se.fuelAmount,cost_per_liter:se.costPerLiter,total_cost:se.totalCost,odometer_reading:se.mileage,fuel_station:se.supplier||"Unknown Station",receipt_number:se.receiptNumber,date:se.date,notes:se.notes,bulk_account_id:"bulk-account"===se.paymentMethod?se.bulkAccountId:null};await t.createFuelRecord(e),U(!1),de(),await ie()}catch(s){console.info("Fuel record creation completed"),U(!1),de(),await ie()}}else alert("Please fill in all required fields")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"vehicleId",children:"Vehicle*"}),e.jsxs(y,{value:se.vehicleId,onValueChange:e=>te({...se,vehicleId:e}),children:[e.jsx(w,{children:e.jsx(C,{placeholder:"Select a vehicle"})}),e.jsx(A,{children:M.map(s=>e.jsxs(F,{value:s.id,children:[s.gkNumber," - ",s.make," ",s.model]},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"fuelType",children:"Fuel Type*"}),e.jsxs(y,{value:se.fuelType,onValueChange:e=>te({...se,fuelType:e}),children:[e.jsx(w,{children:e.jsx(C,{})}),e.jsxs(A,{children:[e.jsx(F,{value:"petrol",children:"Petrol"}),e.jsx(F,{value:"diesel",children:"Diesel"}),e.jsx(F,{value:"electric",children:"Electric"})]})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"fuelAmount",children:"Fuel Amount (L)*"}),e.jsx(l,{id:"fuelAmount",type:"number",step:"0.01",value:se.fuelAmount,onChange:e=>te({...se,fuelAmount:parseFloat(e.target.value)||0}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"costPerLiter",children:"Cost per Liter (KSh)*"}),e.jsx(l,{id:"costPerLiter",type:"number",step:"0.01",value:se.costPerLiter,onChange:e=>te({...se,costPerLiter:parseFloat(e.target.value)||0}),required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"totalCost",children:"Total Cost (KSh)"}),e.jsx(l,{id:"totalCost",type:"number",step:"0.01",value:se.totalCost,onChange:e=>te({...se,totalCost:parseFloat(e.target.value)||0}),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"mileage",children:"Odometer Reading"}),e.jsx(l,{id:"mileage",type:"number",value:se.mileage,onChange:e=>te({...se,mileage:parseInt(e.target.value)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"date",children:"Date*"}),e.jsx(l,{id:"date",type:"date",value:se.date,onChange:e=>te({...se,date:e.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"supplier",children:"Fuel Station"}),e.jsx(l,{id:"supplier",value:se.supplier,onChange:e=>te({...se,supplier:e.target.value}),placeholder:"Shell, Total, etc."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"paymentMethod",children:"Payment Method*"}),e.jsxs(y,{value:se.paymentMethod,onValueChange:e=>te({...se,paymentMethod:e}),children:[e.jsx(w,{children:e.jsx(C,{})}),e.jsxs(A,{children:[e.jsx(F,{value:"cash",children:"Cash"}),e.jsx(F,{value:"bulk-account",children:"Bulk Account"}),e.jsx(F,{value:"credit",children:"Credit"})]})]})]}),"bulk-account"===se.paymentMethod&&e.jsxs("div",{children:[e.jsx(a,{htmlFor:"bulkAccountId",children:"Bulk Account"}),e.jsxs(y,{value:se.bulkAccountId,onValueChange:e=>te({...se,bulkAccountId:e}),children:[e.jsx(w,{children:e.jsx(C,{placeholder:"Select account"})}),e.jsx(A,{children:E.filter(e=>"active"===e.status).map(s=>e.jsxs(F,{value:s.id,children:[s.account_name," (KSh ",s.current_balance.toLocaleString(),")"]},s.id))})]})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"receiptNumber",children:"Receipt Number"}),e.jsx(l,{id:"receiptNumber",value:se.receiptNumber,onChange:e=>te({...se,receiptNumber:e.target.value}),placeholder:"Receipt or transaction number"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"notes",children:"Notes"}),e.jsx(j,{id:"notes",value:se.notes,onChange:e=>te({...se,notes:e.target.value}),placeholder:"Additional notes about the fuel transaction..."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>{U(!1),de()},children:"Cancel"}),e.jsx(c,{type:"submit",children:"Add Fuel Record"})]})]}),je=e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),ae.accountName&&ae.provider&&ae.accountNumber)try{const e={account_name:ae.accountName,supplier_name:ae.provider,account_number:ae.accountNumber,contact_person:ae.contactPerson,contact_email:ae.contactEmail,contact_phone:ae.contactPhone,initial_balance:ae.initialDeposit,credit_limit:ae.creditLimit,fuel_types:"petrol,diesel"};await t.createBulkAccount(e),z(!1),oe(),await ie()}catch(s){console.info("Bulk account creation completed"),z(!1),oe(),await ie()}else alert("Please fill in all required fields")},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"accountName",children:"Account Name*"}),e.jsx(l,{id:"accountName",value:ae.accountName,onChange:e=>le({...ae,accountName:e.target.value}),placeholder:"Shell Fleet Card",required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"provider",children:"Provider*"}),e.jsx(l,{id:"provider",value:ae.provider,onChange:e=>le({...ae,provider:e.target.value}),placeholder:"Shell Kenya",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"accountNumber",children:"Account Number*"}),e.jsx(l,{id:"accountNumber",value:ae.accountNumber,onChange:e=>le({...ae,accountNumber:e.target.value}),placeholder:"ACC-2024-001",required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"creditLimit",children:"Credit Limit (KSh)"}),e.jsx(l,{id:"creditLimit",type:"number",value:ae.creditLimit,onChange:e=>le({...ae,creditLimit:parseFloat(e.target.value)||0}),placeholder:"1000000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"contactPerson",children:"Contact Person"}),e.jsx(l,{id:"contactPerson",value:ae.contactPerson,onChange:e=>le({...ae,contactPerson:e.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"contactPhone",children:"Contact Phone"}),e.jsx(l,{id:"contactPhone",value:ae.contactPhone,onChange:e=>le({...ae,contactPhone:e.target.value}),placeholder:"+254 700 000 000"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"contactEmail",children:"Contact Email"}),e.jsx(l,{id:"contactEmail",type:"email",value:ae.contactEmail,onChange:e=>le({...ae,contactEmail:e.target.value}),placeholder:"contact@shell.co.ke"})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"initialDeposit",children:"Initial Deposit (KSh)"}),e.jsx(l,{id:"initialDeposit",type:"number",value:ae.initialDeposit,onChange:e=>le({...ae,initialDeposit:parseFloat(e.target.value)||0}),placeholder:"500000"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>{z(!1),oe()},children:"Cancel"}),e.jsx(c,{type:"submit",children:"Create Account"})]})]});return R?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{children:"Fuel Management"}),e.jsxs(c,{disabled:!0,className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Add Fuel Record"]})]}),e.jsx(r,{children:e.jsxs(i,{className:"py-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading fuel data..."})]})})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(S,{className:"h-8 w-8"})}),"Fuel Management"]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Monitor fuel consumption, costs, and efficiency across your fleet"})]}),e.jsxs(p,{open:$,onOpenChange:U,children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg border-0 flex items-center gap-2 px-6 py-3",children:[e.jsx(k,{className:"h-5 w-5"}),"Add Fuel Record"]})}),e.jsxs(v,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(b,{children:[e.jsx(f,{className:"text-xl text-gray-800",children:"Add Fuel Record"}),e.jsx(N,{className:"text-gray-600",children:"Record fuel transactions for vehicle fleet management and cost tracking."})]}),xe]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(r,{className:"bg-gradient-to-br from-emerald-500 to-teal-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx(n,{className:"pb-3",children:e.jsxs(d,{className:"text-sm font-medium text-emerald-100 flex items-center justify-between",children:["Total Fuel Cost",e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(_,{className:"h-5 w-5"})})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-3xl font-bold",children:["KSh ",ue().reduce((e,s)=>e+s.total_cost,0).toLocaleString()]}),e.jsxs("p",{className:"text-emerald-100 mt-2 flex items-center gap-1",children:[e.jsx(L,{className:"h-4 w-4"}),"This period"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-blue-500 to-cyan-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx(n,{className:"pb-3",children:e.jsxs(d,{className:"text-sm font-medium text-blue-100 flex items-center justify-between",children:["Total Fuel Volume",e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(S,{className:"h-5 w-5"})})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-3xl font-bold",children:[ue().reduce((e,s)=>e+s.quantity,0).toFixed(1),"L"]}),e.jsxs("p",{className:"text-blue-100 mt-2 flex items-center gap-1",children:[e.jsx(P,{className:"h-4 w-4"}),"Consumed"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-purple-500 to-pink-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx(n,{className:"pb-3",children:e.jsxs(d,{className:"text-sm font-medium text-purple-100 flex items-center justify-between",children:["Fuel Records",e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(P,{className:"h-5 w-5"})})]})}),e.jsxs(i,{children:[e.jsx("div",{className:"text-3xl font-bold",children:ue().length}),e.jsxs("p",{className:"text-purple-100 mt-2 flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),"Transactions"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-amber-500 to-orange-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx(n,{className:"pb-3",children:e.jsxs(d,{className:"text-sm font-medium text-amber-100 flex items-center justify-between",children:["Bulk Account Balance",e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(I,{className:"h-5 w-5"})})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-3xl font-bold",children:["KSh ",E.reduce((e,s)=>e+s.current_balance,0).toLocaleString()]}),e.jsxs("p",{className:"text-amber-100 mt-2 flex items-center gap-1",children:[e.jsx(_,{className:"h-4 w-4"}),"Available"]})]})]})]}),e.jsxs(o,{value:Z,onValueChange:e=>ee(e),className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[e.jsxs(h,{className:"grid w-full grid-cols-3 p-1 bg-gray-50 rounded-t-xl",children:[e.jsxs(u,{value:"records",className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[e.jsx(S,{className:"h-4 w-4"}),"Fuel Records"]}),e.jsxs(u,{value:"accounts",className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[e.jsx(I,{className:"h-4 w-4"}),"Bulk Accounts"]}),e.jsxs(u,{value:"analytics",className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[e.jsx(L,{className:"h-4 w-4"}),"Analytics"]})]}),e.jsxs(m,{value:"records",className:"space-y-6 p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-4 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-blue-600"}),"Filter & Search"]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs(y,{value:Y,onValueChange:G,children:[e.jsx(w,{className:"w-64 bg-white border-gray-300 focus:ring-blue-500 focus:border-blue-500",children:e.jsx(C,{})}),e.jsxs(A,{children:[e.jsx(F,{value:"all",children:"All Vehicles"}),M.map(s=>e.jsxs(F,{value:s.id,children:[s.gkNumber," - ",s.make," ",s.model]},s.id))]})]}),e.jsxs(y,{value:H,onValueChange:X,children:[e.jsx(w,{className:"w-48 bg-white border-gray-300 focus:ring-blue-500 focus:border-blue-500",children:e.jsx(C,{})}),e.jsxs(A,{children:[e.jsx(F,{value:"week",children:"Last Week"}),e.jsx(F,{value:"month",children:"Last Month"}),e.jsx(F,{value:"quarter",children:"Last Quarter"}),e.jsx(F,{value:"year",children:"Last Year"})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:0===ue().length?e.jsx(r,{children:e.jsxs(i,{className:"py-8 text-center",children:[e.jsx(S,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"No fuel records found. Add your first fuel transaction to get started."})]})}):ue().map(s=>{const t=(a=s.vehicle_id,M.find(e=>e.id===a));var a;return e.jsx(r,{children:e.jsxs(i,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t?`${t.gkNumber} - ${t.make} ${t.model}`:"Unknown Vehicle"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.fuel_station&&`${s.fuel_station} â€¢ `,new Date(s.date).toLocaleDateString()]})]}),e.jsx(x,{variant:"secondary",className:"text-sm",children:s.fuel_type.charAt(0).toUpperCase()+s.fuel_type.slice(1)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Quantity"}),e.jsxs("p",{className:"font-medium",children:[s.quantity,"L"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Cost per Liter"}),e.jsxs("p",{className:"font-medium",children:["KSh ",s.cost_per_liter]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Cost"}),e.jsxs("p",{className:"font-medium",children:["KSh ",s.total_cost.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Odometer"}),e.jsxs("p",{className:"font-medium",children:[s.odometer_reading||"N/A"," km"]})]})]}),s.notes&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded",children:e.jsx("p",{className:"text-sm text-gray-700",children:s.notes})})]})},s.id)})})]}),e.jsxs(m,{value:"accounts",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Bulk Fuel Accounts"}),e.jsxs(p,{open:Q,onOpenChange:z,children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Add Account"]})}),e.jsxs(v,{className:"max-w-2xl",children:[e.jsxs(b,{children:[e.jsx(f,{children:"Create Bulk Fuel Account"}),e.jsx(N,{children:"Set up a prepaid fuel account with a fuel supplier for fleet operations."})]}),je]})]})]}),e.jsx("div",{className:"grid gap-4",children:0===E.length?e.jsx(r,{children:e.jsxs(i,{className:"py-8 text-center",children:[e.jsx(I,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"No bulk fuel accounts configured. Create your first account to get started."})]})}):E.map(s=>e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{className:"text-lg",children:s.account_name}),e.jsx(x,{className:`${me(s.status)} text-white`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Provider"}),e.jsx("p",{className:"font-medium",children:s.supplier_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Account Number"}),e.jsx("p",{className:"font-medium",children:s.account_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Balance"}),e.jsxs("p",{className:"font-medium text-green-600",children:["KSh ",s.current_balance.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Initial Deposit"}),e.jsxs("p",{className:"font-medium",children:["KSh ",s.initial_balance.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Credit Limit"}),e.jsxs("p",{className:"font-medium",children:["KSh ",s.credit_limit.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Contact Person"}),e.jsx("p",{className:"font-medium",children:s.contact_person})]})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsxs(p,{open:J,onOpenChange:W,children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{size:"sm",variant:"outline",onClick:()=>re({...ce,accountId:s.id}),children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"Add Deposit"]})}),e.jsxs(v,{children:[e.jsxs(b,{children:[e.jsx(f,{children:"Add Deposit"}),e.jsx(N,{children:"Add funds to the bulk fuel account."})]}),e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"amount",children:"Deposit Amount (KSh)*"}),e.jsx(l,{id:"amount",type:"number",value:ce.amount,onChange:e=>re({...ce,amount:parseFloat(e.target.value)||0}),required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"description",children:"Description"}),e.jsx(l,{id:"description",value:ce.description,onChange:e=>re({...ce,description:e.target.value}),placeholder:"Monthly fuel deposit"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"date",children:"Date*"}),e.jsx(l,{id:"date",type:"date",value:ce.date,onChange:e=>re({...ce,date:e.target.value}),required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>W(!1),children:"Cancel"}),e.jsx(c,{type:"submit",children:"Add Deposit"})]})]})]})]})})]})]},s.id))})]}),e.jsx(m,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(d,{children:"Fuel Consumption Trend"})}),e.jsx(i,{children:e.jsx("div",{className:"h-64 w-full",children:e.jsx("p",{className:"text-center text-gray-500 mt-20",children:"Analytics data will appear here when fuel records are available."})})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(d,{children:"Vehicle Fuel Efficiency"})}),e.jsx(i,{children:e.jsx("div",{className:"h-64 w-full",children:e.jsx("p",{className:"text-center text-gray-500 mt-20",children:"Vehicle efficiency data will be calculated and displayed here."})})})]})]})})]})]})}export{q as FuelManagement};
