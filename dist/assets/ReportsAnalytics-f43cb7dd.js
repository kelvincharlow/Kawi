import{j as e,q as t,x as n,D as r,u as a,g as i,F as s,a as o,W as l,y as c,U as d,z as u}from"./ui-1c32109a.js";import{R as m,e as p,r as f}from"./vendor-4f48b5c9.js";import{i as h,B as y,C as v,a as b,b as x,c as g}from"./index-6a75618c.js";import{S as j,a as N,b as A,c as k,d as O}from"./select-955880ab.js";import{d as w,b as S,a as P,f as C}from"./helpers-6267cebc.js";import{b as E}from"./constants-92d367f8.js";import{a as R}from"./apiService-13b4bb2c.js";import{f as T,_ as F,b as D,c as $,d as I,i as L,e as M,p as V,L as _,g as K,h as B,j as z,D as G,k as U,l as W,m as q,S as J,A as Y,n as Z,o as H,q as X,r as Q,s as ee,G as te,t as ne,u as re,v as ae,w as ie,x as se,y as oe,z as le,E as ce,F as de,H as ue,I as me,X as pe,Y as fe,J as he,K as ye,R as ve,C as be,T as xe,B as ge,a as je}from"./BarChart-69b78874.js";var Ne=["points","className","baseLinePoints","connectNulls"];function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oe(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(e){return e&&e.x===+e.x&&e.y===+e.y},Pe=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){Se(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),Se(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(Oe(e),Oe(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},Ce=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,a=e.connectNulls,i=ke(e,Ne);if(!t||!t.length)return null;var s=h("recharts-polygon",n);if(r&&r.length){var o=i.stroke&&"none"!==i.stroke,l=function(e,t,n){var r=Pe(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(Pe(t.reverse(),n).slice(1))}(t,r,a);return m.createElement("g",{className:s},m.createElement("path",Ae({},T(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),o?m.createElement("path",Ae({},T(i,!0),{fill:"none",d:Pe(t,a)})):null,o?m.createElement("path",Ae({},T(i,!0),{fill:"none",d:Pe(r,a)})):null)}var c=Pe(t,a);return m.createElement("path",Ae({},T(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",className:s,d:c}))},Ee=F,Re=$,Te=D;const Fe=p(function(e,t){return e&&e.length?Ee(e,Te(t),Re):void 0});var De=F,$e=D,Ie=I;const Le=p(function(e,t){return e&&e.length?De(e,$e(t),Ie):void 0});var Me=["cx","cy","angle","ticks","axisLine"],Ve=["ticks","tick","angle","tickFormatter","stroke"];function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach(function(t){Ze(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ge(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,He(r.key),r)}}function We(e,t,n){return t=Je(t),function(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qe()?Reflect.construct(t,n||[],Je(e).constructor):t.apply(e,n))}function qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qe=function(){return!!e})()}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function Ze(e,t,n){return(t=He(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){var t=function(e,t){if("object"!=_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_e(t)?t:t+""}var Xe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),We(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(e,f.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return m.isValidElement(e)?m.cloneElement(e,t):L(e)?e(t):m.createElement(M,Ke({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,a=n.cx,i=n.cy;return V(a,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=Fe(a,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:Le(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=e.axisLine,s=Ge(e,Me),o=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=V(t,n,o[0],r),c=V(t,n,o[1],r),d=ze(ze(ze({},T(s,!1)),{},{fill:"none"},T(i,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return m.createElement("line",Ke({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.angle,s=n.tickFormatter,o=n.stroke,l=Ge(n,Ve),c=this.getTickTextAnchor(),d=T(l,!1),u=T(a,!1),p=r.map(function(n,r){var l=t.getTickValueCoord(n),p=ze(ze(ze(ze({textAnchor:c,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:o},u),{},{index:r},l),{},{payload:n});return m.createElement(_,Ke({className:h("recharts-polar-radius-axis-tick",K(a)),key:"tick-".concat(n.coordinate)},B(t.props,n,r)),e.renderTickItem(a,p,s?s(n.value,r):n.value))});return m.createElement(_,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?m.createElement(_,{className:h("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),z.renderCallByParent(this.props,this.getViewBox())):null}}])&&Ue(t.prototype,n),r&&Ue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(this,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){lt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ct(r.key),r)}}function at(e,t,n){return t=st(t),function(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,it()?Reflect.construct(t,n||[],st(e).constructor):t.apply(e,n))}function it(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(it=function(){return!!e})()}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function lt(e,t,n){return(t=ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qe(t)?t:t+""}Ze(Xe,"displayName","PolarRadiusAxis"),Ze(Xe,"axisType","radiusAxis"),Ze(Xe,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var dt,ut=Math.PI/180,mt=1e-5,pt=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),at(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(e,f.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return m.isValidElement(e)?m.cloneElement(e,t):L(e)?e(t):m.createElement(M,et({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,a=t.radius,i=t.orientation,s=t.tickSize||8,o=V(n,r,a,e.coordinate),l=V(n,r,a+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*ut);return n>mt?"outer"===t?"start":"end":n<-mt?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,a=e.axisLine,i=e.axisLineType,s=nt(nt({},T(this.props,!1)),{},{fill:"none"},T(a,!1));if("circle"===i)return m.createElement(G,et({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:r}));var o=this.props.ticks.map(function(e){return V(t,n,r,e.coordinate)});return m.createElement(Ce,et({className:"recharts-polar-angle-axis-line"},s,{points:o}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.tickLine,s=n.tickFormatter,o=n.stroke,l=T(this.props,!1),c=T(a,!1),d=nt(nt({},l),{},{fill:"none"},T(i,!1)),u=r.map(function(n,r){var u=t.getTickLineCoord(n),p=nt(nt(nt({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:o},c),{},{index:r,payload:n,x:u.x2,y:u.y2});return m.createElement(_,et({className:h("recharts-polar-angle-axis-tick",K(a)),key:"tick-".concat(n.coordinate)},B(t.props,n,r)),i&&m.createElement("line",et({className:"recharts-polar-angle-axis-tick-line"},d,u)),a&&e.renderTickItem(a,p,s?s(n.value,r):n.value))});return m.createElement(_,{className:"recharts-polar-angle-axis-ticks"},u)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:m.createElement(_,{className:h("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&rt(t.prototype,n),r&&rt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(t){At(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r)}}function xt(e,t,n){return t=jt(t),function(e,t){if(t&&("object"===ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gt()?Reflect.construct(t,n||[],jt(e).constructor):t.apply(e,n))}function gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gt=function(){return!!e})()}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function Nt(e,t){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nt(e,t)}function At(e,t,n){return(t=kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){var t=function(e,t){if("object"!=ft(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ft(t)?t:t+""}lt(pt,"displayName","PolarAngleAxis"),lt(pt,"axisType","angleAxis"),lt(pt,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ot=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),At(n=xt(this,e,[t]),"pieRef",null),At(n,"sectorRefs",[]),At(n,"id",oe("recharts-pie-")),At(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),L(e)&&e()}),At(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),L(e)&&e()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}(e,f.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(m.isValidElement(e))return m.cloneElement(e,t);if(L(e))return e(t);var r=h("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return m.createElement(U,ht({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(m.isValidElement(e))return m.cloneElement(e,t);var r=n;if(L(e)&&(r=e(t),m.isValidElement(r)))return r;var a=h("recharts-pie-label-text","boolean"==typeof e||L(e)?"":e.className);return m.createElement(M,ht({},t,{alignmentBaseline:"middle",className:a}),r)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,a=n.labelLine,i=n.dataKey,s=n.valueKey,o=T(this.props,!1),l=T(r,!1),c=T(a,!1),d=r&&r.offsetRadius||20,u=t.map(function(t,n){var u=(t.startAngle+t.endAngle)/2,p=V(t.cx,t.cy,t.outerRadius+d,u),f=vt(vt(vt(vt({},o),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(p.x,t.cx)},p),h=vt(vt(vt(vt({},o),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[V(t.cx,t.cy,t.outerRadius,u),p]}),y=i;return W(i)&&W(s)?y="value":W(i)&&(y=s),m.createElement(_,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},a&&e.renderLabelLineItem(a,h,"line"),e.renderLabelItem(r,f,q(t,y)))});return m.createElement(_,{className:"recharts-pie-labels"},u)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,a=n.blendStroke,i=n.inactiveShape;return e.map(function(n,s){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(s),l=i&&t.hasActiveIndex()?i:null,c=o?r:l,d=vt(vt({},n),{},{stroke:a?n.fill:n.stroke,tabIndex:-1});return m.createElement(_,ht({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},B(t.props,n,s),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),m.createElement(J,ht({option:c,isActive:o,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,o=t.animationId,l=this.state,c=l.prevSectors,d=l.prevIsAnimationActive;return m.createElement(Y,{begin:a,duration:i,isActive:r,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var r=t.t,a=[],i=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],s=t>0?Z(e,"paddingAngle",0):0;if(n){var o=H(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=vt(vt({},e),{},{startAngle:i+s,endAngle:i+o(r)+s});a.push(l),i=l.endAngle}else{var d=e.endAngle,u=e.startAngle,m=H(0,d-u)(r),p=vt(vt({},e),{},{startAngle:i+s,endAngle:i+m+s});a.push(p),i=p.endAngle}}),m.createElement(_,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&X(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,a=t.className,i=t.label,s=t.cx,o=t.cy,l=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,u=this.state.isAnimationFinished;if(n||!r||!r.length||!Q(s)||!Q(o)||!Q(l)||!Q(c))return null;var p=h("recharts-pie",a);return m.createElement(_,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(r),z.renderCallByParent(this.props,null,!1),(!d||u)&&ee.renderCallByParent(this.props,r,!1))}}])&&bt(t.prototype,n),r&&bt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();dt=Ot,At(Ot,"displayName","Pie"),At(Ot,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!te.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),At(Ot,"parseDeltaAngle",function(e,t){return se(t-e)*Math.min(Math.abs(t-e),360)}),At(Ot,"getRealPieData",function(e){var t=e.data,n=e.children,r=T(e,!1),a=ne(n,le);return t&&t.length?t.map(function(e,t){return vt(vt(vt({payload:e},r),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return vt(vt({},r),e.props)}):[]}),At(Ot,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,s=re(a,i);return{cx:r+ae(e.cx,a,a/2),cy:n+ae(e.cy,i,i/2),innerRadius:ae(e.innerRadius,s,0),outerRadius:ae(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),At(Ot,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,a=dt.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,u=r.valueKey,m=r.tooltipType,p=Math.abs(r.minAngle),f=dt.parseCoordinateOfPie(r,n),h=dt.parseDeltaAngle(s,o),y=Math.abs(h),v=c;W(c)&&W(u)?(ie(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):W(c)&&(ie(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=u);var b,x,g=a.filter(function(e){return 0!==q(e,v,0)}).length,j=y-g*p-(y>=360?g:g-1)*l,N=a.reduce(function(e,t){var n=q(t,v,0);return e+(Q(n)?n:0)},0);N>0&&(b=a.map(function(e,t){var n,r=q(e,v,0),a=q(e,d,t),o=(Q(r)?r:0)/N,c=(n=t?x.endAngle+se(h)*l*(0!==r?1:0):s)+se(h)*((0!==r?p:0)+o*j),u=(n+c)/2,y=(f.innerRadius+f.outerRadius)/2,b=[{name:a,value:r,payload:e,dataKey:v,type:m}],g=V(f.cx,f.cy,y,u);return x=vt(vt(vt({percent:o,cornerRadius:i,name:a,tooltipPayload:b,midAngle:u,middleRadius:y,tooltipPosition:g},e),f),{},{value:q(e,v),startAngle:n,endAngle:c,payload:e,paddingAngle:se(h)*l})}));return vt(vt({},f),{},{sectors:b,data:a})});var wt=["type","layout","connectNulls","ref"],St=["key"];function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Ct(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach(function(t){_t(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ft(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kt(r.key),r)}}function It(e,t,n){return t=Mt(t),function(e,t){if(t&&("object"===Pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lt()?Reflect.construct(t,n||[],Mt(e).constructor):t.apply(e,n))}function Lt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Lt=function(){return!!e})()}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}function _t(e,t,n){return(t=Kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){var t=function(e,t){if("object"!=Pt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pt(t)?t:t+""}var Bt=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return _t(t=It(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),_t(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),_t(t,"getStrokeDasharray",function(n,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(r,n);for(var s=Math.floor(n/i),o=n%i,l=r-n,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>o){c=[].concat(Ft(a.slice(0,d)),[o-u]);break}var m=c.length%2==0?[0,l]:[l];return[].concat(Ft(e.repeat(a,s)),Ft(c),m).map(function(e){return"".concat(e,"px")}).join(", ")}),_t(t,"id",oe("recharts-line-")),_t(t,"pathRef",function(e){t.mainCurve=e}),_t(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),_t(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}(e,f.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(Ft(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(Ft(r),Ft(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(m.isValidElement(e))n=m.cloneElement(e,t);else if(L(e))n=e(t);else{var r=t.key,a=Ct(t,St),i=h("recharts-line-dot","boolean"!=typeof e?e.className:"");n=m.createElement(G,Et({key:r},a,{className:i}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,a=n.xAxis,i=n.yAxis,s=n.layout,o=n.children,l=ne(o,ue);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:q(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return m.createElement(_,d,l.map(function(e){return m.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,s=a.points,o=a.dataKey,l=T(this.props,!1),c=T(i,!0),d=s.map(function(t,n){var r=Tt(Tt(Tt({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:s});return e.renderDotItem(i,r)}),u={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return m.createElement(_,Et({className:"recharts-line-dots",key:"dots"},u),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var a=this.props,i=a.type,s=a.layout,o=a.connectNulls;a.ref;var l=Ct(a,wt),c=Tt(Tt(Tt({},T(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:i,layout:s,connectNulls:o});return m.createElement(U,Et({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.strokeDasharray,s=r.isAnimationActive,o=r.animationBegin,l=r.animationDuration,c=r.animationEasing,d=r.animationId,u=r.animateNewValues,p=r.width,f=r.height,h=this.state,y=h.prevPoints,v=h.totalLength;return m.createElement(Y,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(y){var o=y.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*o);if(y[n]){var r=y[n],a=H(r.x,e.x),i=H(r.y,e.y);return Tt(Tt({},e),{},{x:a(s),y:i(s)})}if(u){var l=H(2*p,e.x),c=H(f/2,e.y);return Tt(Tt({},e),{},{x:l(s),y:c(s)})}return Tt(Tt({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,d=H(0,v)(s);if(i){var m="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(d,v,m)}else c=n.generateSimpleStrokeDasharray(v,d);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return a&&r&&r.length&&(!s&&o>0||!X(s,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,s=t.xAxis,o=t.yAxis,l=t.top,c=t.left,d=t.width,u=t.height,p=t.isAnimationActive,f=t.id;if(n||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=1===a.length,b=h("recharts-line",i),x=s&&s.allowDataOverflow,g=o&&o.allowDataOverflow,j=x||g,N=W(f)?this.id:f,A=null!==(e=T(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=A.r,O=void 0===k?3:k,w=A.strokeWidth,S=void 0===w?2:w,P=(ce(r)?r:{}).clipDot,C=void 0===P||P,E=2*O+S;return m.createElement(_,{className:b},x||g?m.createElement("defs",null,m.createElement("clipPath",{id:"clipPath-".concat(N)},m.createElement("rect",{x:x?c:c-d/2,y:g?l:l-u/2,width:x?d:2*d,height:g?u:2*u})),!C&&m.createElement("clipPath",{id:"clipPath-dots-".concat(N)},m.createElement("rect",{x:c-E/2,y:l-E/2,width:d+E,height:u+E}))):null,!v&&this.renderCurve(j,N),this.renderErrorBar(j,N),(v||r)&&this.renderDots(j,C,N),(!p||y)&&ee.renderCallByParent(this.props,a))}}])&&$t(t.prototype,n),r&&$t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();_t(Bt,"displayName","Line"),_t(Bt,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!te.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),_t(Bt,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return Tt({points:l.map(function(e,t){var l=q(e,s);return"horizontal"===d?{x:de({axis:n,ticks:a,bandSize:o,entry:e,index:t}),y:W(l)?null:r.scale(l),value:l,payload:e}:{x:W(l)?null:n.scale(l),y:de({axis:r,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var zt=me({chartName:"LineChart",GraphicalChild:Bt,axisComponents:[{axisType:"xAxis",AxisComp:pe},{axisType:"yAxis",AxisComp:fe}],formatAxisMap:he}),Gt=me({chartName:"PieChart",GraphicalChild:Ot,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pt},{axisType:"radiusAxis",AxisComp:Xe}],formatAxisMap:ye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ut=()=>C((new Date).toISOString());function Wt(){return e.jsx(qt,{})}const qt=f.memo(function(){const[m,p]=f.useState([]),[h,T]=f.useState([]),[F,D]=f.useState([]),[$,I]=f.useState([]),[L,M]=f.useState([]),[V,_]=f.useState("month"),[K,B]=f.useState("all"),[z,G]=f.useState(!1),[U,W]=f.useState([]),[q,J]=f.useState("complete"),[Y,Z]=f.useState("pdf"),H=f.useCallback(async()=>{try{const[e,t,n,r,a]=await Promise.all([R.getVehicles(),R.getFuelRecords(),R.getMaintenanceRecords(),R.getWorkTickets(),R.getDrivers()]);p(e||[]),T(t||[]),D(n||[]),M(r||[]),W(a||[]),I([]),t&&t.length,n&&n.length}catch(e){p([]),T([]),D([]),M([]),W([]),I([])}},[]);f.useEffect(()=>{H()},[H]);const X=f.useCallback(e=>m.find(t=>t.id===e),[m]),Q=f.useMemo(()=>{let e=w(h,V),t=w(F,V),n=w($,V,"transferDate"),r=w(U,V,"dateJoined"),a=w(m,V,"acquisitionDate");"all"!==K&&(e=e.filter(e=>e.vehicleId===K||e.vehicle_id===K),t=t.filter(e=>e.vehicleId===K||e.vehicle_id===K),n=n.filter(e=>e.vehicleId===K||e.vehicle_id===K),a=a.filter(e=>e.id===K));return{fuel:e,maintenance:t,transfers:n,drivers:r,vehicles:a}},[h,F,$,U,m,V,K]),ee=()=>{const{fuel:e,maintenance:t}=Q,n=e.reduce((e,t)=>{const n=Number(t?.totalCost||t?.total_cost)||0;return e+(isNaN(n)?0:n)},0),r=t.filter(e=>"completed"===e.status).reduce((e,t)=>{const n=Number(t?.cost)||0;return e+(isNaN(n)?0:n)},0),a=e.reduce((e,t)=>{const n=Number(t?.fuelAmount||t?.quantity)||0;return e+(isNaN(n)?0:n)},0),i=a>0?n/a:0;return{totalFuelCost:isNaN(n)?0:n,totalMaintenanceCost:isNaN(r)?0:r,totalFuelLiters:isNaN(a)?0:a,avgFuelPrice:isNaN(i)?0:i,totalOperationalCost:isNaN(n+r)?0:n+r}},te=()=>{const{fuel:e}=Q,t={};return e.forEach(e=>{const n=e?.vehicleId||e?.vehicle_id;if(!n)return;t[n]||(t[n]={fuel:0,mileage:0});const r=Number(e?.fuelAmount||e?.quantity)||0,a=Number(e?.mileage||e?.odometer_reading)||0;t[n].fuel+=isNaN(r)?0:r,t[n].mileage+=isNaN(a)?0:a}),Object.entries(t).map(([e,t])=>{const n=X(e),r=t.fuel>0?t.mileage/t.fuel:0;return{vehicle:n?n.gkNumber:e,efficiency:isNaN(r)?0:r,fuel:t.fuel,mileage:t.mileage}})},ne=()=>{const{maintenance:e}=Q,t={};return e.forEach(e=>{const n=e?.vehicleId||e?.vehicle_id;if(!n||"completed"!==e.status)return;const r=Number(e?.cost)||0;isNaN(r)||(t[n]=(t[n]||0)+r)}),Object.entries(t).map(([e,t])=>{const n=X(e);return{vehicle:n?n.gkNumber:e,cost:isNaN(t)?0:t}})},re=()=>{const e={};m.forEach(t=>{e[t.status]=(e[t.status]||0)+1});const t=["#10b981","#f59e0b","#ef4444","#6b7280"];return Object.entries(e).map(([e,n],r)=>({name:e,value:n,color:t[r%t.length]}))},ae=()=>{const{fuel:e,maintenance:t}=Q,n={};return e.forEach(e=>{if(e?.date)try{const t=new Date(e.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});n[t]||(n[t]={fuel:0,maintenance:0});const r=Number(e?.totalCost||e?.total_cost)||0;isNaN(r)||(n[t].fuel+=r)}catch(t){}}),t.forEach(e=>{if(e?.date)try{const t=new Date(e.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});n[t]||(n[t]={fuel:0,maintenance:0});const r=Number(e?.cost)||0;isNaN(r)||(n[t].maintenance+=r)}catch(t){}}),Object.entries(n).map(([e,t])=>({month:e,fuel:isNaN(t.fuel)?0:t.fuel,maintenance:isNaN(t.maintenance)?0:t.maintenance,total:isNaN(t.fuel+t.maintenance)?0:t.fuel+t.maintenance})).sort((e,t)=>new Date(e.month).getTime()-new Date(t.month).getTime())},ie=(e,t)=>[t.join(","),...e.map(e=>t.map(t=>{let n=e[t]||"";return"string"==typeof n&&(n.includes(",")||n.includes('"'))&&(n=`"${n.replace(/"/g,'""')}"`),n}).join(","))].join("\n"),se=(e,t,n)=>{const r=new Blob([e],{type:n}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},oe=()=>{const{fuel:e,maintenance:t,transfers:n}=Q,r=ee();return{metadata:{reportType:"Fleet Management Report",generatedAt:(new Date).toISOString(),period:V,vehicle:"all"===K?"All Vehicles":m.find(e=>e.id===K)?.gkNumber,generatedBy:"Fleet Management System",department:"Ministry of Energy and Petroleum - State Department for Energy"},summary:{totalVehicles:Q.vehicles.length,activeVehicles:Q.vehicles.filter(e=>"active"===e.status).length,maintenanceVehicles:Q.vehicles.filter(e=>"maintenance"===e.status).length,totalFuelCost:r.totalFuelCost,totalMaintenanceCost:r.totalMaintenanceCost,totalOperationalCost:r.totalOperationalCost,totalFuelLiters:r.totalFuelLiters,avgFuelPrice:r.avgFuelPrice,fuelRecords:e.length,maintenanceRecords:t.length,transfers:n.length},vehicles:Q.vehicles.map(e=>({id:e.id,gkNumber:e.gkNumber,make:e.make,model:e.model,year:e.year,engineNumber:e.engineNumber,chassisNumber:e.chassisNumber,status:e.status,fuelType:e.fuelType,capacity:e.capacity,department:e.department,createdAt:e.createdAt})),drivers:Q.drivers.map(e=>({id:e.id,name:e.name,licenseNumber:e.licenseNumber,licenseClass:e.licenseClass,phoneNumber:e.phoneNumber,department:e.department,status:e.status,createdAt:e.createdAt})),fuelRecords:e.map(e=>({id:e.id,vehicleId:e.vehicleId,vehicle:X(e.vehicleId)?.gkNumber||e.vehicleId,date:e.date,fuelStation:e.fuelStation,fuelAmount:e.fuelAmount,unitPrice:e.unitPrice,totalCost:e.totalCost,mileage:e.mileage,receiptNumber:e.receiptNumber})),maintenanceRecords:t.map(e=>({id:e.id,vehicleId:e.vehicleId,vehicle:X(e.vehicleId)?.gkNumber||e.vehicleId,date:e.date,type:e.type,description:e.description,cost:e.cost,vendor:e.vendor,status:e.status,nextServiceDate:e.nextServiceDate})),transfers:n.map(e=>({id:e.id,vehicleId:e.vehicleId,vehicle:X(e.vehicleId)?.gkNumber||e.vehicleId,transferDate:e.transferDate,fromDepartment:e.fromDepartment,toDepartment:e.toDepartment,reason:e.reason,approvedBy:e.approvedBy,status:e.status})),analytics:{fuelEfficiency:te(),maintenanceCosts:ne(),monthlyTrends:ae(),vehicleStatus:re()}}},ce=async()=>{G(!0);try{const e=oe(),t=de.find(e=>e.value===q),n=t?t.label:"Fleet Management Report",r=((e,t,n)=>{const r=`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="UTF-8">\n        <title>${n}</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }\n          .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #1e40af; padding-bottom: 20px; }\n          .logo { font-size: 24px; font-weight: bold; color: #1e40af; margin-bottom: 10px; }\n          .subtitle { color: #6b7280; font-size: 14px; }\n          .section { margin: 30px 0; }\n          .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }\n          .card { border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px; background: #f9fafb; }\n          .card h3 { margin: 0 0 15px 0; color: #1f2937; font-size: 16px; }\n          .value { font-weight: bold; color: #1e40af; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }\n          th { background-color: #f3f4f6; font-weight: 600; }\n          tr:nth-child(even) { background-color: #f9fafb; }\n          .summary-stats { display: flex; justify-content: space-around; margin: 20px 0; }\n          .stat { text-align: center; }\n          .stat-value { font-size: 24px; font-weight: bold; color: #1e40af; }\n          .stat-label { color: #6b7280; font-size: 14px; }\n          @media print { body { margin: 20px; } }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <div class="logo">ðŸš— Digital Fleet Management System</div>\n          <div class="subtitle">${n}</div>\n          <div class="subtitle">Generated on: ${Ut()}</div>\n          <div class="subtitle">Period: ${E[V]} | Vehicle: ${"all"===K?"All Vehicles":K}</div>\n        </div>`;let a="";switch(t){case"summary":a=`\n          <div class="section">\n            <h2>Executive Summary</h2>\n            <div class="summary-stats">\n              <div class="stat">\n                <div class="stat-value">${e.summary.totalVehicles}</div>\n                <div class="stat-label">Total Vehicles</div>\n              </div>\n              <div class="stat">\n                <div class="stat-value">${S(e.summary.totalOperationalCost)}</div>\n                <div class="stat-label">Total Operational Cost</div>\n              </div>\n              <div class="stat">\n                <div class="stat-value">${P(e.summary.totalFuelLiters)} L</div>\n                <div class="stat-label">Total Fuel Consumed</div>\n              </div>\n              <div class="stat">\n                <div class="stat-value">${e.summary.fuelRecords+e.summary.maintenanceRecords}</div>\n                <div class="stat-label">Total Records</div>\n              </div>\n            </div>\n            <div class="grid">\n              <div class="card">\n                <h3>Fleet Overview</h3>\n                <div>Total Vehicles: <span class="value">${e.summary.totalVehicles}</span></div>\n                <div>Active: ${e.summary.activeVehicles}</div>\n                <div>In Maintenance: ${e.summary.maintenanceVehicles}</div>\n              </div>\n              <div class="card">\n                <h3>Operational Costs</h3>\n                <div>Total: <span class="value">${S(e.summary.totalOperationalCost)}</span></div>\n                <div>Fuel: ${S(e.summary.totalFuelCost)}</div>\n                <div>Maintenance: ${S(e.summary.totalMaintenanceCost)}</div>\n              </div>\n              <div class="card">\n                <h3>Fuel Consumption</h3>\n                <div>Total: <span class="value">${P(e.summary.totalFuelLiters)} L</span></div>\n                <div>Avg Price: KES ${e.summary.avgFuelPrice.toFixed(2)}/L</div>\n                <div>Records: ${e.summary.fuelRecords}</div>\n              </div>\n            </div>\n          </div>`;break;case"vehicles":a=`\n          <div class="section">\n            <h2>Vehicle Registry</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>GK Number</th>\n                  <th>Make & Model</th>\n                  <th>Year</th>\n                  <th>Status</th>\n                  <th>Department</th>\n                  <th>Mileage</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${e.vehicles.map(e=>`\n                  <tr>\n                    <td>${e.gkNumber}</td>\n                    <td>${e.make} ${e.model}</td>\n                    <td>${e.year}</td>\n                    <td>${e.status}</td>\n                    <td>${e.department}</td>\n                    <td>${P(e.mileage||0)} km</td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>`;break;case"fuel":a=`\n          <div class="section">\n            <h2>Fuel Records</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Vehicle</th>\n                  <th>Amount (L)</th>\n                  <th>Cost</th>\n                  <th>Price/L</th>\n                  <th>Odometer</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${e.fuel.map(e=>`\n                  <tr>\n                    <td>${C(e.date)}</td>\n                    <td>${e.vehicleId}</td>\n                    <td>${P(e.fuelAmount||e.quantity)} L</td>\n                    <td>${S(e.totalCost||e.total_cost||0)}</td>\n                    <td>KES ${((e.totalCost||e.total_cost||0)/(e.fuelAmount||e.quantity||1)).toFixed(2)}</td>\n                    <td>${P(e.odometer||0)} km</td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>`;break;case"maintenance":a=`\n          <div class="section">\n            <h2>Maintenance Records</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Vehicle</th>\n                  <th>Type</th>\n                  <th>Description</th>\n                  <th>Cost</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${e.maintenance.map(e=>`\n                  <tr>\n                    <td>${C(e.date)}</td>\n                    <td>${e.vehicleId||e.vehicle_id}</td>\n                    <td>${e.type}</td>\n                    <td>${e.description}</td>\n                    <td>${S(e.cost||0)}</td>\n                    <td>${e.status}</td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>`;break;case"drivers":a=`\n          <div class="section">\n            <h2>Driver Records</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>License Number</th>\n                  <th>Phone</th>\n                  <th>Department</th>\n                  <th>Status</th>\n                  <th>Assigned Vehicle</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${e.drivers.map(e=>`\n                  <tr>\n                    <td>${e.name}</td>\n                    <td>${e.licenseNumber}</td>\n                    <td>${e.phone}</td>\n                    <td>${e.department}</td>\n                    <td>${e.status}</td>\n                    <td>${e.assignedVehicle||"None"}</td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>`;break;case"analytics":a=`\n          <div class="section">\n            <h2>Analytics Data</h2>\n            <div class="grid">\n              <div class="card">\n                <h3>Key Performance Indicators</h3>\n                <div>Total Operational Cost: <span class="value">${S(e.summary.totalOperationalCost)}</span></div>\n                <div>Average Fuel Price: <span class="value">KES ${e.summary.avgFuelPrice.toFixed(2)}/L</span></div>\n                <div>Total Fuel Consumed: <span class="value">${P(e.summary.totalFuelLiters)} L</span></div>\n                <div>Total Records: <span class="value">${e.summary.fuelRecords+e.summary.maintenanceRecords}</span></div>\n              </div>\n              <div class="card">\n                <h3>Operational Breakdown</h3>\n                <div>Fuel Costs: <span class="value">${S(e.summary.totalFuelCost)}</span></div>\n                <div>Maintenance Costs: <span class="value">${S(e.summary.totalMaintenanceCost)}</span></div>\n                <div>Cost per Vehicle: <span class="value">${S(e.summary.totalOperationalCost/Math.max(e.summary.totalVehicles,1))}</span></div>\n              </div>\n            </div>\n          </div>`;break;default:a=`\n          <div class="section">\n            <h2>Executive Summary</h2>\n            <div class="grid">\n              <div class="card">\n                <h3>Fleet Overview</h3>\n                <div>Total Vehicles: <span class="value">${e.summary.totalVehicles}</span></div>\n                <div>Active: ${e.summary.activeVehicles}</div>\n                <div>In Maintenance: ${e.summary.maintenanceVehicles}</div>\n              </div>\n              <div class="card">\n                <h3>Operational Costs</h3>\n                <div>Total: <span class="value">${S(e.summary.totalOperationalCost)}</span></div>\n                <div>Fuel: ${S(e.summary.totalFuelCost)}</div>\n                <div>Maintenance: ${S(e.summary.totalMaintenanceCost)}</div>\n              </div>\n              <div class="card">\n                <h3>Fuel Consumption</h3>\n                <div>Total: <span class="value">${P(e.summary.totalFuelLiters)} L</span></div>\n                <div>Avg Price: KES ${e.summary.avgFuelPrice.toFixed(2)}/L</div>\n                <div>Records: ${e.summary.fuelRecords}</div>\n              </div>\n            </div>\n          </div>\n\n          <div class="section">\n            <h2>Vehicle Registry (Top 10)</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>GK Number</th>\n                  <th>Make & Model</th>\n                  <th>Year</th>\n                  <th>Status</th>\n                  <th>Department</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${e.vehicles.slice(0,10).map(e=>`\n                  <tr>\n                    <td>${e.gkNumber}</td>\n                    <td>${e.make} ${e.model}</td>\n                    <td>${e.year}</td>\n                    <td>${e.status}</td>\n                    <td>${e.department}</td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>\n\n          <div class="section">\n            <h2>Recent Fuel Records (Top 10)</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Vehicle</th>\n                  <th>Amount (L)</th>\n                  <th>Cost</th>\n                  <th>Price/L</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${e.fuel.slice(0,10).map(e=>`\n                  <tr>\n                    <td>${C(e.date)}</td>\n                    <td>${e.vehicleId}</td>\n                    <td>${P(e.fuelAmount||e.quantity)} L</td>\n                    <td>${S(e.totalCost||e.total_cost||0)}</td>\n                    <td>KES ${((e.totalCost||e.total_cost||0)/(e.fuelAmount||e.quantity||1)).toFixed(2)}</td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>\n\n          <div class="section">\n            <h2>Recent Maintenance Records (Top 10)</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Vehicle</th>\n                  <th>Type</th>\n                  <th>Cost</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${e.maintenance.slice(0,10).map(e=>`\n                  <tr>\n                    <td>${C(e.date)}</td>\n                    <td>${e.vehicleId||e.vehicle_id}</td>\n                    <td>${e.type}</td>\n                    <td>${S(e.cost||0)}</td>\n                    <td>${e.status}</td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>`}return r+a+"\n        </body>\n      </html>"})(e,q,n),a=window.open("","_blank");a.document.write(r),a.document.close(),a.print()}catch(e){}finally{G(!1)}},de=[{value:"complete",label:"Complete Report",icon:s},{value:"summary",label:"Summary Report",icon:c},{value:"vehicles",label:"Vehicle Registry",icon:o},{value:"drivers",label:"Driver Records",icon:d},{value:"fuel",label:"Fuel Records",icon:i},{value:"maintenance",label:"Maintenance Records",icon:l},{value:"analytics",label:"Analytics Data",icon:t}],ue=[{value:"pdf",label:"PDF Document",icon:u},{value:"csv",label:"CSV Spreadsheet",icon:c},{value:"json",label:"JSON Data",icon:s}],me=f.useMemo(()=>ee(),[Q]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 p-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-3 rounded-xl",children:e.jsx(t,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive fleet performance insights and data export"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{onClick:H,variant:"outline",size:"sm",className:"hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 transition-all duration-200",children:"Refresh Data"}),e.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Export:"}),e.jsxs(j,{value:q,onValueChange:J,children:[e.jsx(N,{className:"w-48",children:e.jsx(A,{placeholder:"Select report type"})}),e.jsx(k,{children:de.map(t=>{const n=t.icon;return e.jsx(O,{value:t.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.label]})},t.value)})})]}),e.jsxs(j,{value:Y,onValueChange:Z,children:[e.jsx(N,{className:"w-40",children:e.jsx(A,{placeholder:"Format"})}),e.jsx(k,{children:ue.map(t=>{const n=t.icon;return e.jsx(O,{value:t.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.label]})},t.value)})})]}),e.jsx(y,{onClick:async()=>{if(q&&Y){G(!0);try{switch(Y){case"csv":await(async e=>{G(!0);try{const t=oe();let n="",r="";switch(e){case"summary":const e=[t.summary];n=ie(e,Object.keys(t.summary)),r=`fleet-summary-${Ut()}.csv`;break;case"vehicles":n=ie(t.vehicles,Object.keys(t.vehicles[0]||{})),r=`vehicle-registry-${Ut()}.csv`;break;case"fuel":n=ie(t.fuelRecords,Object.keys(t.fuelRecords[0]||{})),r=`fuel-records-${Ut()}.csv`;break;case"maintenance":n=ie(t.maintenanceRecords,Object.keys(t.maintenanceRecords[0]||{})),r=`maintenance-records-${Ut()}.csv`;break;case"drivers":n=ie(t.drivers,Object.keys(t.drivers[0]||{})),r=`driver-records-${Ut()}.csv`;break;case"analytics":const a=[...t.analytics.fuelEfficiency.map(e=>({...e,type:"fuel_efficiency"})),...t.analytics.maintenanceCosts.map(e=>({...e,type:"maintenance_cost"})),...t.analytics.monthlyTrends.map(e=>({...e,type:"monthly_trend"}))];n=ie(a,["type","vehicle","efficiency","fuel","mileage","cost","month","maintenance","total"]),r=`analytics-report-${Ut()}.csv`;break;default:const i=[{section:"Summary",...t.summary},...t.vehicles.map(e=>({section:"Vehicles",...e})),...t.fuelRecords.map(e=>({section:"Fuel",...e})),...t.maintenanceRecords.map(e=>({section:"Maintenance",...e}))];n=ie(i,["section","id","name","gkNumber","date","cost","status"]),r=`complete-fleet-report-${Ut()}.csv`}se(n,r,"text/csv")}catch(t){}finally{G(!1)}})(q);break;case"json":await(async()=>{G(!0);try{const e=oe(),t=JSON.stringify(e,null,2),n=`fleet-report-${Ut()}.json`;se(t,n,"application/json")}catch(e){}finally{G(!1)}})();break;case"pdf":await ce()}}catch(e){}finally{G(!1)}}else alert("Please select both report type and export format")},disabled:z||!q||!Y,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2",children:z?e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"h-4 w-4 animate-spin mr-2"}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"h-4 w-4 mr-2"}),"Download"]})})]})]})]}),e.jsx(v,{className:"shadow-sm border-0 bg-gradient-to-r from-gray-50 to-white",children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Time Period"}),e.jsxs(j,{value:V,onValueChange:_,children:[e.jsx(N,{className:"border-gray-200 focus:border-blue-400 focus:ring-blue-400 transition-colors",children:e.jsx(A,{})}),e.jsx(k,{children:E.map(t=>e.jsx(O,{value:t.value,children:t.label},t.value))})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Vehicle Filter"}),e.jsxs(j,{value:K,onValueChange:B,children:[e.jsx(N,{className:"border-gray-200 focus:border-blue-400 focus:ring-blue-400 transition-colors",children:e.jsx(A,{})}),e.jsxs(k,{children:[e.jsx(O,{value:"all",children:"All Vehicles"}),m.map(t=>e.jsxs(O,{value:t.id,children:[t.gkNumber," - ",t.make," ",t.model]},t.id))]})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(v,{className:"hover:shadow-lg transition-all duration-300 border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white",children:[e.jsx(x,{className:"pb-3",children:e.jsxs(g,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:e.jsx(a,{className:"h-4 w-4 text-blue-600"})}),"Total Fuel Cost"]})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-700",children:S(me.totalFuelCost)}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Current period"})]})]}),e.jsxs(v,{className:"hover:shadow-lg transition-all duration-300 border-l-4 border-l-amber-500 bg-gradient-to-br from-amber-50 to-white",children:[e.jsx(x,{className:"pb-3",children:e.jsxs(g,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx("div",{className:"bg-amber-100 p-2 rounded-full",children:e.jsx(a,{className:"h-4 w-4 text-amber-600"})}),"Maintenance Cost"]})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-700",children:S(me.totalMaintenanceCost)}),e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Current period"})]})]}),e.jsxs(v,{className:"hover:shadow-lg transition-all duration-300 border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white",children:[e.jsx(x,{className:"pb-3",children:e.jsxs(g,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:e.jsx(i,{className:"h-4 w-4 text-green-600"})}),"Fuel Consumed"]})}),e.jsxs(b,{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-700",children:[P(me.totalFuelLiters)," L"]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Current period"})]})]}),e.jsxs(v,{className:"hover:shadow-lg transition-all duration-300 border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white",children:[e.jsx(x,{className:"pb-3",children:e.jsxs(g,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:e.jsx(t,{className:"h-4 w-4 text-purple-600"})}),"Avg Fuel Price"]})}),e.jsxs(b,{children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-700",children:["KES ",me.avgFuelPrice.toFixed(2)]}),e.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Per liter"})]})]})]}),e.jsx("div",{className:"w-full",children:e.jsxs(v,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50",children:[e.jsx(x,{className:"border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:e.jsxs(g,{className:"flex items-center gap-3 text-gray-800",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:e.jsx(s,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold",children:"Fleet Summary Report"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Comprehensive overview of fleet operations"})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5 text-blue-500"}),"Fleet Overview"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Total Vehicles:"}),e.jsx("span",{className:"font-bold text-blue-700 text-lg",children:m.length})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Active Vehicles:"}),e.jsx("span",{className:"font-bold text-green-700 text-lg",children:m.filter(e=>"active"===e.status).length})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-amber-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"In Maintenance:"}),e.jsx("span",{className:"font-bold text-amber-700 text-lg",children:m.filter(e=>"maintenance"===e.status).length})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[e.jsx(a,{className:"h-5 w-5 text-green-500"}),"Operational Costs"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Total Fuel:"}),e.jsx("span",{className:"font-bold text-blue-700",children:S(me.totalFuelCost)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-amber-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Total Maintenance:"}),e.jsx("span",{className:"font-bold text-amber-700",children:S(me.totalMaintenanceCost)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border-2 border-purple-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Grand Total:"}),e.jsx("span",{className:"font-bold text-purple-700 text-lg",children:S(me.totalOperationalCost)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[e.jsx(t,{className:"h-5 w-5 text-indigo-500"}),"Recent Activity"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-indigo-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Fuel Records:"}),e.jsx("span",{className:"font-bold text-indigo-700 text-lg",children:Q.fuel.length})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Maintenance Records:"}),e.jsx("span",{className:"font-bold text-orange-700 text-lg",children:Q.maintenance.length})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-teal-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Transfers:"}),e.jsx("span",{className:"font-bold text-teal-700 text-lg",children:Q.transfers.length})]})]})]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50",children:[e.jsx(x,{className:"border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs(g,{className:"flex items-center gap-3 text-gray-800",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:e.jsx(t,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold",children:"Monthly Cost Trends"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Fuel and maintenance expenses over time"})]})]})}),e.jsx(b,{className:"p-6",children:e.jsx(ve,{width:"100%",height:350,children:e.jsxs(zt,{data:ae(),children:[e.jsx(be,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(pe,{dataKey:"month",stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),e.jsx(fe,{stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"},tickFormatter:e=>`KES ${(e/1e3).toFixed(0)}K`}),e.jsx(xe,{formatter:e=>S(Number(e)),contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(Bt,{type:"monotone",dataKey:"fuel",stroke:"#3b82f6",name:"Fuel",strokeWidth:3}),e.jsx(Bt,{type:"monotone",dataKey:"maintenance",stroke:"#f59e0b",name:"Maintenance",strokeWidth:3})]})})})]}),e.jsxs(v,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50",children:[e.jsx(x,{className:"border-b border-gray-100 bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsxs(g,{className:"flex items-center gap-3 text-gray-800",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:e.jsx(o,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold",children:"Vehicle Status Distribution"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Current fleet status overview"})]})]})}),e.jsx(b,{className:"p-6",children:e.jsx(ve,{width:"100%",height:350,children:e.jsxs(Gt,{children:[e.jsx(Ot,{data:re(),cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:re().map((t,n)=>e.jsx(le,{fill:t.color},`cell-${n}`))}),e.jsx(xe,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})})]}),e.jsxs(v,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50",children:[e.jsx(x,{className:"border-b border-gray-100 bg-gradient-to-r from-emerald-50 to-green-50",children:e.jsxs(g,{className:"flex items-center gap-3 text-gray-800",children:[e.jsx("div",{className:"bg-emerald-100 p-2 rounded-full",children:e.jsx(i,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold",children:"Fuel Efficiency by Vehicle"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Kilometers per liter performance"})]})]})}),e.jsx(b,{className:"p-6",children:e.jsx(ve,{width:"100%",height:350,children:e.jsxs(ge,{data:te(),children:[e.jsx(be,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(pe,{dataKey:"vehicle",stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),e.jsx(fe,{stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),e.jsx(xe,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(je,{dataKey:"efficiency",fill:"url(#efficiencyGradient)",name:"km/L",radius:[4,4,0,0]}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"efficiencyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:.8})]})})]})})})]}),e.jsxs(v,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50",children:[e.jsx(x,{className:"border-b border-gray-100 bg-gradient-to-r from-amber-50 to-orange-50",children:e.jsxs(g,{className:"flex items-center gap-3 text-gray-800",children:[e.jsx("div",{className:"bg-amber-100 p-2 rounded-full",children:e.jsx(l,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold",children:"Maintenance Costs by Vehicle"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Total maintenance expenses per vehicle"})]})]})}),e.jsx(b,{className:"p-6",children:e.jsx(ve,{width:"100%",height:350,children:e.jsxs(ge,{data:ne(),children:[e.jsx(be,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(pe,{dataKey:"vehicle",stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),e.jsx(fe,{stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"},tickFormatter:e=>`KES ${(e/1e3).toFixed(0)}K`}),e.jsx(xe,{formatter:e=>S(Number(e)),contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(je,{dataKey:"cost",fill:"url(#maintenanceGradient)",name:"Cost",radius:[4,4,0,0]}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"maintenanceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#f59e0b",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#d97706",stopOpacity:.8})]})})]})})})]})]})]})});export{Wt as ReportsAnalytics};
