import{j as e,S as t,T as r,R as a,L as s,C as n}from"./ui-f76141b1.js";import{b as i,r as o,R as l}from"./vendor-05a0620d.js";import{C as d,a as c,E as u,b as m,S as p,T as g,R as h,c as b,d as x,X as v,M as f,L as y,e as _,F as j,U as w,f as k,W as N,B as S,A as T,g as D,h as E,P as R,i as A}from"./icons-4074e4e4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var M={},C=i;M.createRoot=C.createRoot,M.hydrateRoot=C.hydrateRoot;const I={},O=function(e,t,r){if(!t||0===t.length)return e();const a=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in I)return;I[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(!!r)for(let r=a.length-1;r>=0;r--){const s=a[r];if(s.href===e&&(!t||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${e}"]${s}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};function P(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=P(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function z(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=P(e))&&(a&&(a+=" "),a+=t);return a}function L(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=V(e))&&(a&&(a+=" "),a+=t);return a}function V(e){if("string"==typeof e)return e;for(var t,r="",a=0;a<e.length;a++)e[a]&&(t=V(e[a]))&&(r&&(r+=" "),r+=t);return r}function Z(e){var t=function(e){var t=e.theme,r=e.prefix,a={nextPart:new Map,validators:[]},s=function(e,t){if(!t)return e;return e.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){var r=e[0],a=e[1];return[t+r,a]})):e})]})}(Object.entries(e.classGroups),r);return s.forEach(function(e){var r=e[0];W(e[1],a,r,t)}),a}(e),r=e.conflictingClassGroups,a=e.conflictingClassGroupModifiers,s=void 0===a?{}:a;return{getClassGroupId:function(e){var r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),F(r,t)||function(e){if(q.test(e)){var t=q.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var a=r[e]||[];return t&&s[e]?[].concat(a,s[e]):a}}}function F(e,t){if(0===e.length)return t.classGroupId;var r=e[0],a=t.nextPart.get(r),s=a?F(e.slice(1),a):void 0;if(s)return s;if(0!==t.validators.length){var n=e.join("-");return t.validators.find(function(e){return(0,e.validator)(n)})?.classGroupId}}var q=/^\[(.+)\]$/;function W(e,t,r,a){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void W(e(a),t,r,a):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(function(e){var s=e[0];W(e[1],J(t,s),r,a)})}else{(""===e?t:J(t,e)).classGroupId=r}})}function J(e,t){var r=e;return t.split("-").forEach(function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r}function G(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,a=new Map;function s(s,n){r.set(s,n),++t>e&&(t=0,a=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=a.get(e))?(s(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):s(e,t)}}}function B(e){var t=e.separator||":",r=1===t.length,a=t[0],s=t.length;return function(e){for(var n,i=[],o=0,l=0,d=0;d<e.length;d++){var c=e[d];if(0===o){if(c===a&&(r||e.slice(d,d+s)===t)){i.push(e.slice(l,d)),l=d+s;continue}if("/"===c){n=d;continue}}"["===c?o++:"]"===c&&o--}var u=0===i.length?e:e.substring(l),m=u.startsWith("!");return{modifiers:i,hasImportantModifier:m,baseClassName:m?u.substring(1):u,maybePostfixModifierPosition:n&&n>l?n-l:void 0}}}var K=/\s+/;function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a,s,n,i=function(e){var r=t[0],l=t.slice(1).reduce(function(e,t){return t(e)},r());return a=function(e){return{cache:G(e.cacheSize),splitModifiers:B(e),...Z(e)}}(l),s=a.cache.get,n=a.cache.set,i=o,o(e)};function o(e){var t=s(e);if(t)return t;var r=function(e,t){var r=t.splitModifiers,a=t.getClassGroupId,s=t.getConflictingClassGroupIds,n=new Set;return e.trim().split(K).map(function(e){var t=r(e),s=t.modifiers,n=t.hasImportantModifier,i=t.baseClassName,o=t.maybePostfixModifierPosition,l=a(o?i.substring(0,o):i),d=Boolean(o);if(!l){if(!o)return{isTailwindClass:!1,originalClassName:e};if(!(l=a(i)))return{isTailwindClass:!1,originalClassName:e};d=!1}var c=function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)}),t.push.apply(t,r.sort()),t}(s).join(":");return{isTailwindClass:!0,modifierId:n?c+"!":c,classGroupId:l,originalClassName:e,hasPostfixModifier:d}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,a=e.hasPostfixModifier,i=t+r;return!n.has(i)&&(n.add(i),s(r,a).forEach(function(e){return n.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" ")}(e,a);return n(e,r),r}return function(){return i(L.apply(null,arguments))}}function $(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var H=/^\[(?:([a-z-]+):)?(.+)\]$/i,Q=/^\d+\/\d+$/,X=new Set(["px","full","screen"]),Y=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,te=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function re(e){return le(e)||X.has(e)||Q.test(e)||ae(e)}function ae(e){return he(e,"length",be)}function se(e){return he(e,"size",xe)}function ne(e){return he(e,"position",xe)}function ie(e){return he(e,"url",ve)}function oe(e){return he(e,"number",le)}function le(e){return!Number.isNaN(Number(e))}function de(e){return e.endsWith("%")&&le(e.slice(0,-1))}function ce(e){return fe(e)||he(e,"number",fe)}function ue(e){return H.test(e)}function me(){return!0}function pe(e){return Y.test(e)}function ge(e){return he(e,"",ye)}function he(e,t,r){var a=H.exec(e);return!!a&&(a[1]?a[1]===t:r(a[2]))}function be(e){return ee.test(e)}function xe(){return!1}function ve(e){return e.startsWith("url(")}function fe(e){return Number.isInteger(Number(e))}function ye(e){return te.test(e)}function _e(){var e=$("colors"),t=$("spacing"),r=$("blur"),a=$("brightness"),s=$("borderColor"),n=$("borderRadius"),i=$("borderSpacing"),o=$("borderWidth"),l=$("contrast"),d=$("grayscale"),c=$("hueRotate"),u=$("invert"),m=$("gap"),p=$("gradientColorStops"),g=$("gradientColorStopPositions"),h=$("inset"),b=$("margin"),x=$("opacity"),v=$("padding"),f=$("saturate"),y=$("scale"),_=$("sepia"),j=$("skew"),w=$("space"),k=$("translate"),N=function(){return["auto",ue,t]},S=function(){return[ue,t]},T=function(){return["",re]},D=function(){return["auto",le,ue]},E=function(){return["","0",ue]},R=function(){return[le,oe]},A=function(){return[le,ue]};return{cacheSize:500,theme:{colors:[me],spacing:[re],blur:["none","",pe,ue],brightness:R(),borderColor:[e],borderRadius:["none","","full",pe,ue],borderSpacing:S(),borderWidth:T(),contrast:R(),grayscale:E(),hueRotate:A(),invert:E(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[de,ae],inset:N(),margin:N(),opacity:R(),padding:S(),saturate:R(),scale:R(),sepia:E(),skew:A(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[pe]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ue])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ce]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",ce]}],"grid-cols":[{"grid-cols":[me]}],"col-start-end":[{col:["auto",{span:["full",ce]},ue]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[me]}],"row-start-end":[{row:["auto",{span:[ce]},ue]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ue,t]}],"min-w":[{"min-w":["min","max","fit",ue,re]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[pe]},pe,ue]}],h:[{h:[ue,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ue,re]}],"max-h":[{"max-h":[ue,t,"min","max","fit"]}],"font-size":[{text:["base",pe,ae]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oe]}],"font-family":[{font:[me]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",le,oe]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ue,re]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",re]}],"underline-offset":[{"underline-offset":["auto",ue,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ne])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",se]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ie]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[ue,re]}],"outline-w":[{outline:[re]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[re]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",pe,ge]}],"shadow-color":[{shadow:[me]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pe,ue]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[u]}],saturate:[{saturate:[f]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[f]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[ce,ue]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[re,oe]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var je=U(_e);function we(...e){return je(z(e))}function ke({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:we("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...r})}function Ne({className:t,...r}){return e.jsx("div",{"data-slot":"card-header",className:we("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function Se({className:t,...r}){return e.jsx("h4",{"data-slot":"card-title",className:we("leading-none",t),...r})}function Te({className:t,...r}){return e.jsx("div",{"data-slot":"card-content",className:we("px-6 [&:last-child]:pb-6",t),...r})}const De=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ee=z,Re=(e,t)=>r=>{var a;if(null==(null==t?void 0:t.variants))return Ee(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:s,defaultVariants:n}=t,i=Object.keys(s).map(e=>{const t=null==r?void 0:r[e],a=null==n?void 0:n[e];if(null===t)return null;const i=De(t)||De(a);return s[e][i]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{}),l=null==t||null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...o}[t]):{...n,...o}[t]===r})?[...e,r,a]:e},[]);return Ee(e,i,l,null==r?void 0:r.class,null==r?void 0:r.className)},Ae=Re("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Me=o.forwardRef(({className:r,variant:a,size:s,asChild:n=!1,...i},o)=>{const l=n?t:"button";return e.jsx(l,{ref:o,"data-slot":"button",className:we(Ae({variant:a,size:s,className:r})),...i})});Me.displayName="Button";const Ce=Re("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ie({className:r,variant:a,asChild:s=!1,...n}){const i=s?t:"span";return e.jsx(i,{"data-slot":"badge",className:we(Ce({variant:a}),r),...n})}function Oe({className:t,...r}){return e.jsx(a,{"data-slot":"tabs",className:we("flex flex-col gap-2",t),...r})}function Pe({className:t,...r}){return e.jsx(s,{"data-slot":"tabs-list",className:we("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...r})}const ze=o.forwardRef(({className:t,...a},s)=>e.jsx(r,{ref:s,"data-slot":"tabs-trigger",className:we("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a}));function Le({className:t,...r}){return e.jsx(n,{"data-slot":"tabs-content",className:we("flex-1 outline-none",t),...r})}function Ve({className:t,type:r,...a}){return e.jsx("input",{type:r,"data-slot":"input",className:we("file:text-foreground placeholder:text-gray-500 selection:bg-blue-200 selection:text-blue-900 flex h-10 w-full min-w-0 rounded-lg border border-gray-200 bg-gray-50/50 px-3 py-2 text-sm text-gray-700 transition-all duration-200 outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus:border-blue-300 focus:bg-white focus:ring-2 focus:ring-blue-100 focus:shadow-sm","hover:border-gray-300 hover:bg-gray-50","aria-invalid:border-red-300 aria-invalid:ring-2 aria-invalid:ring-red-100 aria-invalid:bg-red-50/30",t),...a})}ze.displayName="TabsTrigger";var Ze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((r,a)=>{const s=o.forwardRef((r,s)=>{const{asChild:n,...i}=r,o=n?t:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),e.jsx(o,{...i,ref:s})});return s.displayName=`Primitive.${a}`,{...r,[a]:s}},{}),Fe=o.forwardRef((t,r)=>e.jsx(Ze.label,{...t,ref:r,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(t.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));Fe.displayName="Label";var qe=Fe;function We({className:t,...r}){return e.jsx(qe,{"data-slot":"label",className:we("flex items-center gap-2 text-sm leading-none font-medium text-gray-700 select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}const Je=Re("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ge({className:t,variant:r,...a}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:we(Je({variant:r}),t),...a})}function Be({className:t,...r}){return e.jsx("div",{"data-slot":"alert-description",className:we("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}function Ke({onAuthSuccess:t}){const[r,a]=o.useState(!1),[s,n]=o.useState(""),[i,l]=o.useState(!1),[g,h]=o.useState({email:"",password:""});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg",children:e.jsx(d,{className:"h-10 w-10 text-white"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Fleet Management System"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-600 font-medium",children:"Ministry of Energy and Petroleum"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"State Department for Energy"})]})]})]}),e.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:[e.jsxs(Ne,{className:"text-center pb-4",children:[e.jsx(Se,{className:"text-xl font-semibold text-gray-800",children:"Administrator Portal"}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Sign in to access the fleet management system"})]}),e.jsx(Te,{className:"p-6",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:[e.jsx(Ie,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 py-1.5 shadow-sm",children:"Administrator Portal"}),e.jsx("p",{className:"text-blue-700 mt-3 text-sm font-medium",children:"Full system access and management"})]}),s&&e.jsxs(Ge,{variant:"destructive",children:[e.jsx(c,{className:"h-4 w-4"}),e.jsx(Be,{children:s})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),a(!0),n("");try{if("admin@energy.go.ke"===g.email&&"admin123"===g.password){console.warn("ðŸš¨ SECURITY: Using demo credentials. Change in production!");const e={id:"admin-1",email:g.email,role:"admin",name:"System Administrator"};t(e)}else n("Invalid admin credentials. Use admin@energy.go.ke / admin123")}catch(r){n("Login failed. Please try again.")}finally{a(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(We,{htmlFor:"admin-email",className:"text-gray-700",children:"Email Address"}),e.jsx(Ve,{id:"admin-email",type:"email",value:g.email,onChange:e=>h({...g,email:e.target.value}),placeholder:"admin@energy.go.ke",required:!0})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"admin-password",className:"text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{id:"admin-password",type:i?"text":"password",value:g.password,onChange:e=>h({...g,password:e.target.value}),placeholder:"Enter your password",className:"pr-10",required:!0}),e.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-gray-100 rounded-md",onClick:()=>l(!i),children:i?e.jsx(u,{className:"h-4 w-4 text-gray-400"}):e.jsx(m,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx(Me,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:r,children:r?"Signing In...":"Sign In as Administrator"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:[e.jsxs("p",{className:"text-sm font-semibold text-blue-800 mb-3 flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4"}),"Demo Credentials"]}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Email:"}),e.jsx("span",{className:"font-mono bg-blue-100 px-2 py-1 rounded text-xs",children:"admin@energy.go.ke"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Password:"}),e.jsx("span",{className:"font-mono bg-blue-100 px-2 py-1 rounded text-xs",children:"admin123"})]})]})]})]})})]}),e.jsxs("div",{className:"text-center text-gray-500 space-y-1",children:[e.jsx("p",{className:"text-sm",children:"Â© 2024 Ministry of Energy and Petroleum"}),e.jsx("p",{className:"text-xs",children:"Digital Fleet Management System"})]})]})})}const Ue="https://dftwstjxrxwszkufggom.supabase.co",$e=Ue.split("//")[1]?.split(".")[0],He="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRmdHdzdGp4cnh3c3prdWZnZ29tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzODU1MDMsImV4cCI6MjA2ODk2MTUwM30.kui2ggN_OhOokDzX46wEcP_yb8HHEseyB4aF9ZnRMns";console.log("Supabase Configuration:",{projectId:$e,url:Ue,hasKey:!!He,keyPrefix:He.substring(0,20)+"...",environment:"production"});const Qe={VEHICLES:"fleet_vehicles",DRIVERS:"fleet_drivers",WORK_TICKETS:"fleet_work_tickets",FUEL_RECORDS:"fleet_fuel_records",BULK_ACCOUNTS:"fleet_bulk_accounts",MAINTENANCE_RECORDS:"fleet_maintenance_records",DASHBOARD_STATS:"fleet_dashboard_stats",DATA_VERSION:"fleet_data_version"};class Xe{static instance;static getInstance(){return Xe.instance||(Xe.instance=new Xe),Xe.instance}constructor(){this.initializeStorage()}initializeStorage(){"1.0"!==localStorage.getItem(Qe.DATA_VERSION)&&(this.clearAllData(),localStorage.setItem(Qe.DATA_VERSION,"1.0"))}saveData(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.warn("Failed to save data to localStorage:",r)}}loadData(e,t){try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(r){console.warn("Failed to load data from localStorage:",r)}return t}saveVehicles(e){this.saveData(Qe.VEHICLES,e)}loadVehicles(e){return this.loadData(Qe.VEHICLES,e)}saveDrivers(e){this.saveData(Qe.DRIVERS,e)}loadDrivers(e){return this.loadData(Qe.DRIVERS,e)}saveWorkTickets(e){this.saveData(Qe.WORK_TICKETS,e)}loadWorkTickets(e){return this.loadData(Qe.WORK_TICKETS,e)}saveFuelRecords(e){this.saveData(Qe.FUEL_RECORDS,e)}loadFuelRecords(e){return this.loadData(Qe.FUEL_RECORDS,e)}saveBulkAccounts(e){this.saveData(Qe.BULK_ACCOUNTS,e)}loadBulkAccounts(e){return this.loadData(Qe.BULK_ACCOUNTS,e)}saveMaintenanceRecords(e){this.saveData(Qe.MAINTENANCE_RECORDS,e)}loadMaintenanceRecords(e){return this.loadData(Qe.MAINTENANCE_RECORDS,e)}saveDashboardStats(e){this.saveData(Qe.DASHBOARD_STATS,[e])}loadDashboardStats(e){return this.loadData(Qe.DASHBOARD_STATS,[e])[0]||e}clearAllData(){Object.values(Qe).forEach(e=>{localStorage.removeItem(e)})}exportData(){const e={};return Object.entries(Qe).forEach(([t,r])=>{if(r!==Qe.DATA_VERSION){const a=localStorage.getItem(r);a&&(e[t]=JSON.parse(a))}}),JSON.stringify(e,null,2)}importData(e){try{const t=JSON.parse(e);return Object.entries(t).forEach(([e,t])=>{const r=Qe[e];r&&r!==Qe.DATA_VERSION&&localStorage.setItem(r,JSON.stringify(t))}),!0}catch(t){return console.error("Failed to import data:",t),!1}}}const Ye=Xe.getInstance(),et=Ye.loadDrivers([{id:"driver-1",name:"John Smith",employeeId:"EMP001",licenseNumber:"DL123456",licenseClass:"B",licenseExpiryDate:"2025-12-31",phone:"+254 700 123 456",email:"john.smith@energy.go.ke",department:"State Department for Energy",status:"active",dateJoined:"2023-01-15",notes:"Experienced driver with clean record",username:"jsmith",password:"driver123",createdAt:"2023-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"driver-2",name:"Mary Wanjiku",employeeId:"EMP002",licenseNumber:"DL654321",licenseClass:"C",licenseExpiryDate:"2025-08-15",phone:"+254 701 234 567",email:"mary.wanjiku@energy.go.ke",department:"State Department for Energy",status:"active",dateJoined:"2023-03-10",notes:"Certified for heavy vehicles",username:"mwanjiku",password:"driver123",createdAt:"2023-03-10T09:30:00Z",updatedAt:"2024-01-10T09:30:00Z"},{id:"driver-3",name:"Peter Kipchoge",employeeId:"EMP003",licenseNumber:"DL789012",licenseClass:"B",licenseExpiryDate:"2025-06-20",phone:"+254 702 345 678",email:"peter.kipchoge@energy.go.ke",department:"State Department for Energy",status:"active",dateJoined:"2023-06-01",notes:"Specialized in long-distance travel",username:"pkipchoge",password:"driver123",createdAt:"2023-06-01T14:20:00Z",updatedAt:"2024-01-01T14:20:00Z"}]),tt=Ye.loadVehicles([{id:"vehicle-1",gkNumber:"GK 001 A",make:"Toyota",model:"Hilux",year:2023,engineNumber:"ENG123456",chassisNumber:"CHS789012",acquisitionDate:"2023-01-15",status:"active",department:"State Department for Energy",location:"Nairobi HQ",color:"White",fuelType:"diesel",seatingCapacity:5,equipment:["Fire extinguisher","First aid kit","Toolkit","Spare tire"],notes:"Primary field work vehicle",createdAt:"2023-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"vehicle-2",gkNumber:"GK 002 B",make:"Mitsubishi",model:"Pajero",year:2022,engineNumber:"ENG789012",chassisNumber:"CHS345678",acquisitionDate:"2022-08-20",status:"active",department:"State Department for Energy",location:"Mombasa Office",color:"Silver",fuelType:"diesel",seatingCapacity:7,equipment:["Fire extinguisher","First aid kit","GPS tracker","Emergency kit"],notes:"Coastal region assignments",createdAt:"2022-08-20T11:30:00Z",updatedAt:"2024-01-10T11:30:00Z"},{id:"vehicle-3",gkNumber:"GK 003 C",make:"Toyota",model:"Land Cruiser",year:2024,engineNumber:"ENG345678",chassisNumber:"CHS901234",acquisitionDate:"2024-02-10",status:"active",department:"State Department for Energy",location:"Kisumu Office",color:"Blue",fuelType:"diesel",seatingCapacity:8,equipment:["Fire extinguisher","First aid kit","Winch","Off-road kit","Satellite phone"],notes:"Heavy-duty assignments and remote areas",createdAt:"2024-02-10T13:45:00Z",updatedAt:"2024-02-10T13:45:00Z"}]),rt=Ye.loadWorkTickets([{id:"ticket-1",driver_id:"driver-1",driver_name:"John Smith",driver_license:"DL123456",driver_email:"john.smith@energy.go.ke",vehicle_id:"vehicle-1",vehicle_registration:"GK 001 A",destination:"Nakuru Geothermal Plant",purpose:"Routine inspection and data collection",fuel_required:80,estimated_distance:320,departure_date:"2024-01-20",return_date:"2024-01-21",additional_notes:"Overnight stay required for comprehensive inspection",status:"approved",created_at:"2024-01-18T09:00:00Z",approved_by:"System Administrator",approved_at:"2024-01-18T14:30:00Z",updated_at:"2024-01-18T14:30:00Z"},{id:"ticket-2",driver_id:"driver-2",driver_name:"Mary Wanjiku",driver_license:"DL654321",driver_email:"mary.wanjiku@energy.go.ke",vehicle_id:"vehicle-2",vehicle_registration:"GK 002 B",destination:"Mombasa Port Authority",purpose:"Equipment delivery and coordination meeting",fuel_required:120,estimated_distance:480,departure_date:"2024-01-22",return_date:"2024-01-23",additional_notes:"Transporting sensitive equipment - extra care required",status:"pending",created_at:"2024-01-19T11:15:00Z",updated_at:"2024-01-19T11:15:00Z"},{id:"ticket-3",driver_id:"driver-3",driver_name:"Peter Kipchoge",driver_license:"DL789012",driver_email:"peter.kipchoge@energy.go.ke",vehicle_id:"vehicle-3",vehicle_registration:"GK 003 C",destination:"Eldoret Regional Office",purpose:"Monthly regional meeting and report submission",fuel_required:100,estimated_distance:420,departure_date:"2024-01-25",return_date:"2024-01-25",additional_notes:"Same day return expected",status:"approved",created_at:"2024-01-17T16:20:00Z",approved_by:"System Administrator",approved_at:"2024-01-18T08:45:00Z",updated_at:"2024-01-18T08:45:00Z"},{id:"ticket-4",driver_id:"driver-1",driver_name:"John Smith",driver_license:"DL123456",driver_email:"john.smith@energy.go.ke",vehicle_id:"vehicle-1",vehicle_registration:"GK 001 A",destination:"Kiambu County Office",purpose:"Community outreach and energy consultation",fuel_required:40,estimated_distance:80,departure_date:"2024-01-24",return_date:"2024-01-24",additional_notes:"Half-day assignment",status:"pending",created_at:"2024-01-20T10:30:00Z",updated_at:"2024-01-20T10:30:00Z"},{id:"ticket-aug-1",driver_id:"driver-1",driver_name:"John Smith",driver_license:"DL123456",driver_email:"john.smith@energy.go.ke",vehicle_id:"vehicle-1",vehicle_registration:"GK 001 A",destination:"Nairobi Central Office",purpose:"Monthly department meeting",fuel_required:40,estimated_distance:80,departure_date:"2025-08-05",return_date:"2025-08-05",additional_notes:"Day trip",status:"approved",created_at:"2025-08-04T09:00:00Z",approved_by:"System Administrator",approved_at:"2025-08-04T14:30:00Z",updated_at:"2025-08-04T14:30:00Z"},{id:"ticket-aug-2",driver_id:"driver-1",driver_name:"John Smith",driver_license:"DL123456",driver_email:"john.smith@energy.go.ke",vehicle_id:"vehicle-1",vehicle_registration:"GK 001 A",destination:"Kisumu Renewable Energy Site",purpose:"Site inspection and documentation",fuel_required:100,estimated_distance:400,departure_date:"2025-08-12",return_date:"2025-08-13",additional_notes:"Overnight trip",status:"approved",created_at:"2025-08-10T10:00:00Z",approved_by:"System Administrator",approved_at:"2025-08-10T15:00:00Z",updated_at:"2025-08-10T15:00:00Z"},{id:"ticket-aug-3",driver_id:"driver-2",driver_name:"Mary Wanjiku",driver_license:"DL654321",driver_email:"mary.wanjiku@energy.go.ke",vehicle_id:"vehicle-2",vehicle_registration:"GK 002 B",destination:"Eldoret Regional Office",purpose:"Training workshop attendance",fuel_required:80,estimated_distance:320,departure_date:"2025-08-15",return_date:"2025-08-15",additional_notes:"Workshop on new energy policies",status:"approved",created_at:"2025-08-13T08:30:00Z",approved_by:"System Administrator",approved_at:"2025-08-13T11:00:00Z",updated_at:"2025-08-13T11:00:00Z"},{id:"ticket-aug-4",driver_id:"driver-1",driver_name:"John Smith",driver_license:"DL123456",driver_email:"john.smith@energy.go.ke",vehicle_id:"vehicle-1",vehicle_registration:"GK 001 A",destination:"Mombasa Port Authority",purpose:"Equipment delivery coordination",fuel_required:120,estimated_distance:480,departure_date:"2025-08-18",return_date:"2025-08-19",additional_notes:"Current trip - equipment delivery",status:"approved",created_at:"2025-08-16T07:00:00Z",approved_by:"System Administrator",approved_at:"2025-08-16T10:30:00Z",updated_at:"2025-08-16T10:30:00Z"},{id:"ticket-jul-1",driver_id:"driver-1",driver_name:"John Smith",driver_license:"DL123456",driver_email:"john.smith@energy.go.ke",vehicle_id:"vehicle-1",vehicle_registration:"GK 001 A",destination:"Thika Industrial Area",purpose:"Equipment inspection",fuel_required:60,estimated_distance:120,departure_date:"2025-07-10",return_date:"2025-07-10",additional_notes:"July monthly inspection",status:"approved",created_at:"2025-07-08T09:00:00Z",approved_by:"System Administrator",approved_at:"2025-07-08T14:30:00Z",updated_at:"2025-07-08T14:30:00Z"},{id:"ticket-jul-2",driver_id:"driver-2",driver_name:"Mary Wanjiku",driver_license:"DL654321",driver_email:"mary.wanjiku@energy.go.ke",vehicle_id:"vehicle-2",vehicle_registration:"GK 002 B",destination:"Kisii Regional Office",purpose:"Staff training coordination",fuel_required:90,estimated_distance:360,departure_date:"2025-07-25",return_date:"2025-07-25",additional_notes:"Training session coordination",status:"approved",created_at:"2025-07-23T08:00:00Z",approved_by:"System Administrator",approved_at:"2025-07-23T11:00:00Z",updated_at:"2025-07-23T11:00:00Z"},{id:"ticket-sep-1",driver_id:"driver-1",driver_name:"John Smith",driver_license:"DL123456",driver_email:"john.smith@energy.go.ke",vehicle_id:"vehicle-1",vehicle_registration:"GK 001 A",destination:"Garissa Solar Farm",purpose:"Solar panel maintenance check",fuel_required:150,estimated_distance:600,departure_date:"2025-09-07",return_date:"2025-09-08",additional_notes:"Quarterly maintenance check",status:"approved",created_at:"2025-09-05T07:00:00Z",approved_by:"System Administrator",approved_at:"2025-09-05T12:00:00Z",updated_at:"2025-09-05T12:00:00Z"},{id:"ticket-sep-2",driver_id:"driver-2",driver_name:"Mary Wanjiku",driver_license:"DL654321",driver_email:"mary.wanjiku@energy.go.ke",vehicle_id:"vehicle-2",vehicle_registration:"GK 002 B",destination:"Machakos Wind Farm",purpose:"Wind turbine inspection",fuel_required:70,estimated_distance:280,departure_date:"2025-09-20",return_date:"2025-09-20",additional_notes:"Routine inspection of wind turbines",status:"approved",created_at:"2025-09-18T09:30:00Z",approved_by:"System Administrator",approved_at:"2025-09-18T13:00:00Z",updated_at:"2025-09-18T13:00:00Z"}]),at=Ye.loadFuelRecords([{id:"fuel-1",vehicle_id:"vehicle-1",driver_id:"driver-1",fuel_type:"diesel",quantity:75.5,cost_per_liter:165.5,total_cost:12495.25,odometer_reading:45230,fuel_station:"Shell Station - Nairobi CBD",receipt_number:"RCP001234",date:"2025-08-15",notes:"Pre-trip fueling for Nakuru assignment",bulk_account_id:"bulk-1",created_at:"2025-08-15T07:30:00Z",updated_at:"2025-08-15T07:30:00Z"},{id:"fuel-2",vehicle_id:"vehicle-2",driver_id:"driver-2",fuel_type:"diesel",quantity:90,cost_per_liter:164.8,total_cost:14832,odometer_reading:38750,fuel_station:"Total Station - Mombasa Road",receipt_number:"RCP002145",date:"2025-08-16",notes:"Fuel for Mombasa trip",bulk_account_id:"bulk-1",created_at:"2025-08-16T08:15:00Z",updated_at:"2025-08-16T08:15:00Z"},{id:"fuel-3",vehicle_id:"vehicle-3",driver_id:"driver-3",fuel_type:"diesel",quantity:85.2,cost_per_liter:166.2,total_cost:14160.24,odometer_reading:22100,fuel_station:"Kenol Station - Nakuru Highway",receipt_number:"RCP003456",date:"2025-08-17",notes:"Regular fueling for regional duties",bulk_account_id:"bulk-1",created_at:"2025-08-17T15:45:00Z",updated_at:"2025-08-17T15:45:00Z"}]),st=[{id:"bulk-1",account_name:"Ministry Fleet Account - Shell",supplier_name:"Shell Kenya Limited",account_number:"MEN-SHELL-2024-001",current_balance:75e4,initial_balance:1e6,credit_limit:5e5,status:"active",contact_person:"James Mwangi",contact_phone:"+254 722 345 678",contact_email:"fleet.support@shell.co.ke",fuel_types:"diesel,petrol",created_at:"2024-01-01T10:00:00Z",updated_at:"2024-01-20T14:30:00Z"},{id:"bulk-2",account_name:"Ministry Fleet Account - Total",supplier_name:"Total Kenya Limited",account_number:"MEN-TOTAL-2024-001",current_balance:425e3,initial_balance:5e5,credit_limit:3e5,status:"active",contact_person:"Sarah Njeru",contact_phone:"+254 733 456 789",contact_email:"corporate@total.co.ke",fuel_types:"diesel,petrol",created_at:"2024-01-01T11:00:00Z",updated_at:"2024-01-19T16:20:00Z"}],nt=[{id:"maint-1",vehicle_id:"vehicle-1",maintenance_type:"regular",description:"Routine service - oil change, filter replacement",cost:15500,service_date:"2025-08-10",next_service_date:"2025-11-10",service_provider:"Toyota Kenya Service Center",odometer_reading:45e3,parts_replaced:["Engine oil filter","Air filter","Oil"],notes:"All systems functioning normally",status:"completed",created_at:"2025-08-10T13:00:00Z",updated_at:"2025-08-10T16:30:00Z"},{id:"maint-2",vehicle_id:"vehicle-2",maintenance_type:"repair",description:"Brake pad replacement and brake system check",cost:22e3,service_date:"2025-08-12",next_service_date:"2025-11-12",service_provider:"Mitsubishi Authorized Service",odometer_reading:38500,parts_replaced:["Front brake pads","Rear brake pads","Brake fluid"],notes:"Brake system fully restored to optimal performance",status:"completed",created_at:"2025-08-12T09:00:00Z",updated_at:"2025-08-12T17:45:00Z"},{id:"maint-3",vehicle_id:"vehicle-3",maintenance_type:"regular",description:"Comprehensive inspection and tire rotation",cost:18750,service_date:"2025-08-14",next_service_date:"2025-11-14",service_provider:"Toyota Kenya Service Center",odometer_reading:22e3,parts_replaced:["Cabin filter","Transmission fluid"],notes:"Vehicle in excellent condition for heavy-duty use",status:"completed",created_at:"2025-08-14T10:30:00Z",updated_at:"2024-01-10T15:20:00Z"}],it={totalVehicles:tt.length,totalDrivers:et.length,totalFuelRecords:at.length,totalMaintenanceRecords:nt.length,totalWorkTickets:rt.length,pendingWorkTickets:rt.filter(e=>"pending"===e.status).length,lastUpdated:(new Date).toISOString()},ot=`https://${$e}.supabase.co/functions/v1/server`;const lt=new class{useMockData=!1;connectionAttempted=!1;constructor(){this.useMockData=!{}.REACT_APP_SUPABASE_URL}async makeRequest(e,t){if(this.useMockData&&this.connectionAttempted)return this.getMockResponse(e);try{const r=await fetch(`${ot}/${e}`,{headers:{Authorization:`Bearer ${He}`,"Content-Type":"application/json",...t?.headers},...t});if(r.ok){return{success:!0,data:await r.json()}}return 404!==r.status&&console.info(`API endpoint ${e} not available (${r.status}), using demo data`),this.getMockResponse(e)}catch(r){return this.connectionAttempted||(console.info("Server connection unavailable, switching to demo mode with sample data"),this.connectionAttempted=!0),this.useMockData=!0,this.getMockResponse(e)}}async getMockResponse(e){switch(await new Promise(e=>setTimeout(e,200)),e){case"health":return{success:!0,data:{success:!0,message:"Mock server is running",timestamp:(new Date).toISOString(),endpoint:e}};case"dashboard-stats":return{success:!0,data:{stats:it}};case"vehicles":return{success:!0,data:{vehicles:tt}};case"drivers":return{success:!0,data:{drivers:et}};case"work-tickets":return{success:!0,data:{tickets:rt}};case"fuel-records":return{success:!0,data:{records:at}};case"bulk-accounts":return{success:!0,data:{accounts:st}};case"maintenance-records":return{success:!0,data:{records:nt}};default:return{success:!1,error:`Mock data not available for endpoint: ${e}`}}}async testConnection(){try{const e=await this.makeRequest("health");return!e.success||!e.data?.success||(this.useMockData=!1,!0)}catch(e){return this.connectionAttempted||console.info("Server connection test completed - using demo mode"),this.useMockData=!0,this.connectionAttempted=!0,!0}}async getDashboardStats(){if(this.useMockData){const e=rt.filter(e=>"pending"===e.status).length;return{totalVehicles:tt.length,totalDrivers:et.length,totalFuelRecords:at.length,totalMaintenanceRecords:nt.length,totalWorkTickets:rt.length,pendingWorkTickets:e,lastUpdated:(new Date).toISOString()}}const e=await this.makeRequest("dashboard-stats");return e.success?e.data?.stats:{totalVehicles:0,totalDrivers:0,totalFuelRecords:0,totalMaintenanceRecords:0,totalWorkTickets:0,pendingWorkTickets:0,lastUpdated:(new Date).toISOString()}}async getVehicles(){const e=await this.makeRequest("vehicles");return e.success?e.data?.vehicles:tt}async createVehicle(e){if(this.useMockData){const t={id:`vehicle-${Date.now()}`,...e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return tt.push(t),Ye.saveVehicles(tt),{success:!0,vehicle:t}}return(await this.makeRequest("vehicles",{method:"POST",body:JSON.stringify(e)})).data}async getDrivers(){const e=await this.makeRequest("drivers");return e.success?e.data?.drivers:et}async createDriver(e){if(this.useMockData){const t={id:`driver-${Date.now()}`,...e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return et.push(t),Ye.saveDrivers(et),{success:!0,driver:t}}return(await this.makeRequest("drivers",{method:"POST",body:JSON.stringify(e)})).data}async getWorkTickets(){const e=await this.makeRequest("work-tickets");return e.success?e.data?.tickets:rt}async createWorkTicket(e){if(this.useMockData){const t={id:`ticket-${Date.now()}`,...e,status:"pending",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),approved_by:null,approved_at:null,rejected_by:null,rejected_at:null,rejection_reason:null};return rt.push(t),Ye.saveWorkTickets(rt),{success:!0,ticket:t}}return(await this.makeRequest("work-tickets",{method:"POST",body:JSON.stringify(e)})).data}async approveWorkTicket(e,t){if(this.useMockData){const r=rt.find(t=>t.id===e);return r&&(r.status="approved",r.approved_by=t.approved_by,r.approved_at=t.approved_at,r.updated_at=(new Date).toISOString(),Ye.saveWorkTickets(rt)),{success:!0,ticket:r}}return(await this.makeRequest(`work-tickets/${e}/approve`,{method:"POST",body:JSON.stringify(t)})).data}async rejectWorkTicket(e,t){if(this.useMockData){const r=rt.find(t=>t.id===e);return r&&(r.status="rejected",r.rejected_by=t.rejected_by,r.rejected_at=t.rejected_at,r.rejection_reason=t.rejection_reason,r.updated_at=(new Date).toISOString(),Ye.saveWorkTickets(rt)),{success:!0,ticket:r}}return(await this.makeRequest(`work-tickets/${e}/reject`,{method:"POST",body:JSON.stringify(t)})).data}async getFuelRecords(){const e=await this.makeRequest("fuel-records");return e.success?e.data?.records:at}async createFuelRecord(e){if(this.useMockData){const t={id:`fuel-${Date.now()}`,...e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};if(at.push(t),Ye.saveFuelRecords(at),e.bulk_account_id){const t=st.find(t=>t.id===e.bulk_account_id);t&&(t.current_balance-=e.total_cost,t.updated_at=(new Date).toISOString(),Ye.saveBulkAccounts(st))}return{success:!0,record:t}}return(await this.makeRequest("fuel-records",{method:"POST",body:JSON.stringify(e)})).data}async getBulkAccounts(){const e=await this.makeRequest("bulk-accounts");return e.success?e.data?.accounts:st}async createBulkAccount(e){if(this.useMockData){const t={id:`bulk-${Date.now()}`,...e,current_balance:e.initial_balance,status:"active",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return st.push(t),Ye.saveBulkAccounts(st),{success:!0,account:t}}return(await this.makeRequest("bulk-accounts",{method:"POST",body:JSON.stringify(e)})).data}async getMaintenanceRecords(){const e=await this.makeRequest("maintenance-records");return(e.success?e.data?.records:nt).map(e=>({id:e.id,vehicleId:e.vehicle_id,maintenanceType:"regular"===e.maintenance_type?"routine":e.maintenance_type,serviceProvider:e.service_provider||"",workDescription:e.description||"",partsReplaced:Array.isArray(e.parts_replaced)?e.parts_replaced:[],cost:e.cost||0,laborCost:e.labor_cost||0,partsCost:e.parts_cost||0,mileage:e.odometer_reading||0,date:e.service_date||e.date,nextServiceDate:e.next_service_date,nextServiceMileage:e.next_service_mileage||0,status:"completed"===e.status?"completed":e.status||"scheduled",priority:e.priority||"medium",warrantyInfo:e.warranty_info||"",notes:e.notes||"",createdAt:e.created_at}))}async createMaintenanceRecord(e){if(this.useMockData){const t={id:`maint-${Date.now()}`,...e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return nt.push(t),Ye.saveMaintenanceRecords(nt),{success:!0,record:t}}return(await this.makeRequest("maintenance-records",{method:"POST",body:JSON.stringify(e)})).data}isUsingMockData(){return this.useMockData}setMockMode(e){this.useMockData=e}getApiBase(){return ot}};function dt({apiBase:t=`https://${$e}.supabase.co/functions/v1/server`}){const[r,a]=o.useState("idle"),[s,n]=o.useState([]),[i,l]=o.useState(!1),d=async(e,r="GET",a)=>{const s=Date.now();try{const n=`${t}/${e}`;console.log(`Testing ${r} ${n}`);const i=await fetch(n,{method:r,headers:{Authorization:`Bearer ${He}`,"Content-Type":"application/json"},...a&&{body:JSON.stringify(a)}}),o=Date.now()-s,l=await i.text();let d,c=!0;try{d=JSON.parse(l)}catch{d=l,c=!1}return{endpoint:e,method:r,status:i.status,ok:i.ok,isJson:c,responseTime:o,response:d,error:null}}catch(n){return{endpoint:e,method:r,status:0,ok:!1,isJson:!1,responseTime:Date.now()-s,response:null,error:n instanceof Error?n.message:"Unknown error"}}},c=t=>t.error?e.jsxs(Ie,{variant:"destructive",children:[e.jsx(b,{className:"w-3 h-3 mr-1"}),"Network Error"]}):t.ok?e.jsxs(Ie,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(x,{className:"w-3 h-3 mr-1"}),"Success"]}):t.isJson?e.jsxs(Ie,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(g,{className:"w-3 h-3 mr-1"}),"API Error"]}):e.jsxs(Ie,{variant:"destructive",children:[e.jsx(b,{className:"w-3 h-3 mr-1"}),"404 HTML"]});return i?e.jsxs(ke,{className:"fixed bottom-4 right-4 w-96 max-h-96 overflow-y-auto z-50 shadow-lg border-2",children:[e.jsx(Ne,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Se,{className:"text-sm",children:"Server Connection Debug"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Me,{size:"sm",variant:"outline",onClick:async()=>{a("testing"),n([]);const e=[{endpoint:"health",method:"GET"},{endpoint:"bulk-accounts",method:"GET"},{endpoint:"work-tickets",method:"GET"},{endpoint:"vehicles",method:"GET"},{endpoint:"drivers",method:"GET"}],t=[];for(const a of e){const e=await d(a.endpoint,a.method);t.push(e)}n(t);const r=t.every(e=>e.ok||404===e.status&&e.isJson);a(r?"success":"error")},disabled:"testing"===r,className:"h-7 px-2",children:"testing"===r?e.jsx(h,{className:"w-3 h-3 animate-spin"}):"Test"}),e.jsx(Me,{size:"sm",variant:"outline",onClick:()=>l(!1),className:"h-7 w-7 p-0",children:"Ã—"})]})]})}),e.jsx(Te,{className:"pt-0",children:e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"break-all",children:[e.jsx("strong",{children:"API Base:"})," ",t]}),s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium",children:"Test Results:"}),s.map((t,r)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"font-mono",children:[t.method," /",t.endpoint]}),c(t)]}),e.jsxs("div",{className:"text-gray-600",children:["Status: ",t.status," | Time: ",t.responseTime,"ms"]}),t.error&&e.jsxs("div",{className:"text-red-600 mt-1",children:["Error: ",t.error]}),!t.isJson&&t.response&&e.jsxs("div",{className:"text-orange-600 mt-1",children:["Non-JSON Response: ","string"==typeof t.response?t.response.substring(0,100):"Binary data"]}),t.isJson&&t.response&&e.jsxs("div",{className:"text-green-600 mt-1",children:["JSON Response: ","object"==typeof t.response?JSON.stringify(t.response).substring(0,100):t.response.substring(0,100)]})]},r))]}),"idle"===r&&e.jsx("div",{className:"text-gray-500",children:'Click "Test" to check server endpoints'}),"testing"===r&&e.jsx("div",{className:"text-blue-600",children:"Testing endpoints..."})]})})]}):e.jsxs(Me,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"fixed bottom-4 right-4 z-50 bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Debug Server"]})}const ct=o.lazy(()=>O(()=>import("./VehicleRegistry-5b179f9a.js"),["assets/VehicleRegistry-5b179f9a.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js"]).then(e=>({default:e.VehicleRegistry}))),ut=o.lazy(()=>O(()=>import("./DriverManagement-e922ce71.js"),["assets/DriverManagement-e922ce71.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/index-29221ab9.js"]).then(e=>({default:e.DriverManagement}))),mt=o.lazy(()=>O(()=>import("./FuelManagement-9ab4a92e.js"),["assets/FuelManagement-9ab4a92e.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js"]).then(e=>({default:e.FuelManagement}))),pt=o.lazy(()=>O(()=>import("./MaintenanceManagement-3d0f7cb2.js"),["assets/MaintenanceManagement-3d0f7cb2.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/BarChart-8c621854.js"]).then(e=>({default:e.MaintenanceManagement}))),gt=o.lazy(()=>O(()=>import("./ComponentManagement-3cc8a666.js"),["assets/ComponentManagement-3cc8a666.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/helpers-a9df5ae9.js","assets/constants-92d367f8.js"]).then(e=>({default:e.ComponentManagement}))),ht=o.lazy(()=>O(()=>import("./TransferManagement-7de2967d.js"),["assets/TransferManagement-7de2967d.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/helpers-a9df5ae9.js"]).then(e=>({default:e.TransferManagement}))),bt=o.lazy(()=>O(()=>import("./ReportsAnalytics-ad99f6e7.js"),["assets/ReportsAnalytics-ad99f6e7.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/select-f3c8a2c6.js","assets/icons-4074e4e4.js","assets/helpers-a9df5ae9.js","assets/constants-92d367f8.js","assets/BarChart-8c621854.js"]).then(e=>({default:e.ReportsAnalytics}))),xt=o.lazy(()=>O(()=>import("./WorkTicketManagement-74fad401.js"),["assets/WorkTicketManagement-74fad401.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/index-29221ab9.js"]).then(e=>({default:e.WorkTicketManagement}))),vt=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:"Loading component..."})]});function ft(){const[t,r]=o.useState("dashboard"),[a,s]=o.useState(null),[n,i]=o.useState(!0),[l,c]=o.useState(!1),[u,m]=o.useState({totalVehicles:0,totalDrivers:0,totalFuelRecords:0,totalMaintenanceRecords:0,totalWorkTickets:0,lastUpdated:(new Date).toISOString()}),[p,g]=o.useState([]),h="admin"===a?.role,b="driver"===a?.role;o.useEffect(()=>{M()},[]),o.useEffect(()=>{a&&(P(),b&&L(),setTimeout(()=>{O(()=>import("./WorkTicketManagement-74fad401.js"),["assets/WorkTicketManagement-74fad401.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/index-29221ab9.js"]),O(()=>import("./VehicleRegistry-5b179f9a.js"),["assets/VehicleRegistry-5b179f9a.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js"])},2e3),setTimeout(()=>{O(()=>import("./DriverManagement-e922ce71.js"),["assets/DriverManagement-e922ce71.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/index-29221ab9.js"]),O(()=>import("./FuelManagement-9ab4a92e.js"),["assets/FuelManagement-9ab4a92e.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js"]),O(()=>import("./MaintenanceManagement-3d0f7cb2.js"),["assets/MaintenanceManagement-3d0f7cb2.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/BarChart-8c621854.js"]),O(()=>import("./ComponentManagement-3cc8a666.js"),["assets/ComponentManagement-3cc8a666.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/helpers-a9df5ae9.js","assets/constants-92d367f8.js"]),O(()=>import("./TransferManagement-7de2967d.js"),["assets/TransferManagement-7de2967d.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/helpers-a9df5ae9.js"]),O(()=>import("./ReportsAnalytics-ad99f6e7.js"),["assets/ReportsAnalytics-ad99f6e7.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/select-f3c8a2c6.js","assets/icons-4074e4e4.js","assets/helpers-a9df5ae9.js","assets/constants-92d367f8.js","assets/BarChart-8c621854.js"])},4e3))},[a,b]),o.useEffect(()=>{"work-tickets"===t&&a&&(console.log("Switching to work tickets tab, refreshing stats..."),z())},[t,a]);const M=async()=>{try{const e=localStorage.getItem("fleet_user");if(e)return void s(JSON.parse(e));const t={id:"demo-admin-001",email:"demo@digitalfleet.com",role:"admin",name:"Demo Administrator"};console.log("ðŸŽ® Demo Mode: Auto-logging in as Demo Administrator"),s(t),localStorage.setItem("fleet_user",JSON.stringify(t))}catch(e){console.error("Error checking auth session:",e)}finally{i(!1)}},C=e=>{s(e),localStorage.setItem("fleet_user",JSON.stringify(e))},I=()=>{s(null),localStorage.removeItem("fleet_user"),r("dashboard")},P=async()=>{try{const e=await lt.getDashboardStats();m(e)}catch{console.info("Dashboard stats unavailable, calculating from available data");try{const[e,t,r,a,s]=await Promise.all([lt.getVehicles().catch(()=>[]),lt.getDrivers().catch(()=>[]),lt.getFuelRecords().catch(()=>[]),lt.getMaintenanceRecords().catch(()=>[]),lt.getWorkTickets().catch(()=>[])]);m({totalVehicles:(e||[]).length,totalDrivers:(t||[]).length,totalFuelRecords:(r||[]).length,totalMaintenanceRecords:(a||[]).length,totalWorkTickets:(s||[]).length,lastUpdated:(new Date).toISOString()})}catch{m({totalVehicles:3,totalDrivers:3,totalFuelRecords:3,totalMaintenanceRecords:3,totalWorkTickets:4,lastUpdated:(new Date).toISOString()})}}},z=async()=>{console.log("Refreshing dashboard stats..."),await P(),console.log("Dashboard stats refreshed")},L=async()=>{try{const e=(await lt.getWorkTickets()||[]).filter(e=>{if(a?.driverId&&e.driver_id===a.driverId)return!0;const t=e.driver_name===a?.name,r=e.driver_email===a?.email,s=a?.email&&e.driver_name?.toLowerCase().includes(a.email.split("@")[0].toLowerCase());return t||r||s});g(e)}catch{console.info("Driver tickets unavailable, showing empty state"),g([])}},V=t=>{switch(t){case"pending":return e.jsxs(Ie,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(A,{className:"w-3 h-3 mr-1"}),"Pending"]});case"approved":return e.jsxs(Ie,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(x,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return e.jsx(Ie,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Rejected"});default:return e.jsx(Ie,{variant:"secondary",children:t})}},Z=e=>{switch(e){case"vehicles":O(()=>import("./VehicleRegistry-5b179f9a.js"),["assets/VehicleRegistry-5b179f9a.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js"]);break;case"drivers":O(()=>import("./DriverManagement-e922ce71.js"),["assets/DriverManagement-e922ce71.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/index-29221ab9.js"]);break;case"fuel":O(()=>import("./FuelManagement-9ab4a92e.js"),["assets/FuelManagement-9ab4a92e.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js"]);break;case"maintenance":O(()=>import("./MaintenanceManagement-3d0f7cb2.js"),["assets/MaintenanceManagement-3d0f7cb2.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/BarChart-8c621854.js"]);break;case"components":O(()=>import("./ComponentManagement-3cc8a666.js"),["assets/ComponentManagement-3cc8a666.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/helpers-a9df5ae9.js","assets/constants-92d367f8.js"]);break;case"transfers":O(()=>import("./TransferManagement-7de2967d.js"),["assets/TransferManagement-7de2967d.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/helpers-a9df5ae9.js"]);break;case"reports":O(()=>import("./ReportsAnalytics-ad99f6e7.js"),["assets/ReportsAnalytics-ad99f6e7.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/select-f3c8a2c6.js","assets/icons-4074e4e4.js","assets/helpers-a9df5ae9.js","assets/constants-92d367f8.js","assets/BarChart-8c621854.js"]);break;case"work-tickets":O(()=>import("./WorkTicketManagement-74fad401.js"),["assets/WorkTicketManagement-74fad401.js","assets/ui-f76141b1.js","assets/vendor-05a0620d.js","assets/textarea-00ba843c.js","assets/icons-4074e4e4.js","assets/select-f3c8a2c6.js","assets/index-29221ab9.js"])}},F=()=>{const t=[{title:"Total Vehicles",value:u.totalVehicles,icon:d,color:"bg-blue-500"},{title:"Total Drivers",value:u.totalDrivers,icon:w,color:"bg-green-500"},{title:"Work Tickets",value:u.totalWorkTickets,icon:j,color:"bg-purple-500"},{title:"Fuel Records",value:u.totalFuelRecords,icon:k,color:"bg-yellow-500"},{title:"Maintenance Records",value:u.totalMaintenanceRecords,icon:N,color:"bg-red-500"}];return e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 via-blue-600 to-purple-600 rounded-xl p-4 lg:p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-4",children:[e.jsx("div",{className:"p-2 lg:p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(_,{className:"h-6 w-6 lg:h-8 lg:w-8"})}),"Admin Dashboard"]}),e.jsx("p",{className:"text-blue-100 mt-1 lg:mt-2 text-sm lg:text-lg",children:"Ministry of Energy and Petroleum - Fleet Management System"}),e.jsx("p",{className:"text-blue-200 mt-1 text-xs lg:text-sm",children:"Complete oversight and control of your vehicle fleet"})]}),e.jsx(Me,{onClick:z,className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg border-0 px-4 lg:px-6 py-2 lg:py-3 text-sm lg:text-base",children:"Refresh Data"})]})}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 lg:gap-6",children:t.map((t,r)=>{const a=["bg-gradient-to-br from-blue-500 to-cyan-600","bg-gradient-to-br from-emerald-500 to-teal-600","bg-gradient-to-br from-purple-500 to-pink-600","bg-gradient-to-br from-amber-500 to-orange-600","bg-gradient-to-br from-red-500 to-rose-600"];return e.jsxs(ke,{className:`${a[r%a.length]} text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1`,children:[e.jsx(Ne,{className:"pb-2 lg:pb-3",children:e.jsxs(Se,{className:"text-xs lg:text-sm font-medium text-white/90 flex items-center justify-between",children:[e.jsx("span",{className:"truncate",children:t.title}),e.jsx("div",{className:"p-1 lg:p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(t.icon,{className:"h-3 w-3 lg:h-5 lg:w-5"})})]})}),e.jsx(Te,{children:e.jsx("div",{className:"text-xl lg:text-3xl font-bold",children:t.value})})]},r)})}),e.jsxs(ke,{className:"bg-white shadow-xl border border-gray-200",children:[e.jsxs(Ne,{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b",children:[e.jsxs(Se,{className:"flex items-center gap-2 lg:gap-3 text-lg lg:text-xl",children:[e.jsx("div",{className:"p-1 lg:p-2 bg-blue-600 rounded-lg",children:e.jsx(_,{className:"h-4 w-4 lg:h-6 lg:w-6 text-white"})}),"Quick Actions"]}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Access key features with one click"})]}),e.jsx(Te,{className:"p-4 lg:p-6",children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4",children:[{label:"Work Tickets",icon:j,tab:"work-tickets",color:"border-red-200 hover:border-red-400 hover:bg-red-50"},{label:"Vehicles",icon:d,tab:"vehicles",color:"border-blue-200 hover:border-blue-400 hover:bg-blue-50"},{label:"Drivers",icon:w,tab:"drivers",color:"border-green-200 hover:border-green-400 hover:bg-green-50"},{label:"Fuel",icon:k,tab:"fuel",color:"border-purple-200 hover:border-purple-400 hover:bg-purple-50"},{label:"Maintenance",icon:N,tab:"maintenance",color:"border-orange-200 hover:border-orange-400 hover:bg-orange-50"},{label:"Components",icon:S,tab:"components",color:"border-yellow-200 hover:border-yellow-400 hover:bg-yellow-50"},{label:"Transfers",icon:T,tab:"transfers",color:"border-teal-200 hover:border-teal-400 hover:bg-teal-50"},{label:"Reports",icon:_,tab:"reports",color:"border-indigo-200 hover:border-indigo-400 hover:bg-indigo-50"}].map((t,a)=>e.jsxs(Me,{variant:"outline",className:`h-20 lg:h-28 flex-col gap-2 lg:gap-3 border-2 ${t.color} transition-all duration-200 text-xs lg:text-sm`,onClick:()=>r(t.tab),children:[e.jsx("div",{className:`p-1 lg:p-2 bg-${t.color.split("-")[1]}-100 rounded-lg`,children:e.jsx(t.icon,{className:"h-4 w-4 lg:h-6 lg:w-6"})}),e.jsx("div",{className:"font-semibold text-center",children:t.label})]},a))})})]})]})},q=()=>{const t=p,s=t.filter(e=>"pending"===e.status),n=t.filter(e=>"approved"===e.status),i=t.slice(0,5);return e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 rounded-xl p-4 lg:p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-4",children:[e.jsx("div",{className:"p-2 lg:p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(D,{className:"h-6 w-6 lg:h-8 lg:w-8"})}),"Driver Dashboard"]}),e.jsxs("p",{className:"text-green-100 mt-1 lg:mt-2 text-sm lg:text-lg",children:["Welcome back, ",a?.name||a?.email]}),e.jsxs("p",{className:"text-green-200 flex items-center gap-2 mt-1 text-xs lg:text-sm",children:[e.jsx(E,{className:"h-3 w-3 lg:h-4 lg:w-4"}),"Personal Driver Portal - ID: ",a?.driverId||a?.id]})]}),e.jsxs(Me,{onClick:()=>r("work-tickets"),className:"bg-white text-green-600 hover:bg-green-50 shadow-lg border-0 px-4 lg:px-6 py-2 lg:py-3 text-sm lg:text-base",children:[e.jsx(R,{className:"w-4 h-4 lg:w-5 lg:h-5 mr-2"}),"New Request"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:[e.jsxs(ke,{className:"bg-gradient-to-br from-purple-500 to-indigo-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx(Ne,{className:"pb-2 lg:pb-3",children:e.jsxs(Se,{className:"text-sm font-medium text-purple-100 flex items-center justify-between",children:["My Work Tickets",e.jsx("div",{className:"p-1 lg:p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(j,{className:"h-4 w-4 lg:h-5 lg:w-5"})})]})}),e.jsxs(Te,{children:[e.jsx("div",{className:"text-2xl lg:text-3xl font-bold",children:t.length}),e.jsx("p",{className:"text-purple-100 mt-1 lg:mt-2 text-sm",children:"Total requests submitted"})]})]}),e.jsxs(ke,{className:"bg-gradient-to-br from-amber-500 to-orange-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx(Ne,{className:"pb-2 lg:pb-3",children:e.jsxs(Se,{className:"text-sm font-medium text-amber-100 flex items-center justify-between",children:["Pending Approval",e.jsxs("div",{className:"p-1 lg:p-2 bg-white/20 rounded-lg backdrop-blur-sm relative",children:[e.jsx(A,{className:"h-4 w-4 lg:h-5 lg:w-5"}),s.length>0&&e.jsx(Ie,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs bg-red-500",children:s.length})]})]})}),e.jsxs(Te,{children:[e.jsx("div",{className:"text-2xl lg:text-3xl font-bold",children:s.length}),e.jsx("p",{className:"text-amber-100 mt-1 lg:mt-2 text-sm",children:"Awaiting admin approval"})]})]}),e.jsxs(ke,{className:"bg-gradient-to-br from-emerald-500 to-green-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx(Ne,{className:"pb-2 lg:pb-3",children:e.jsxs(Se,{className:"text-sm font-medium text-emerald-100 flex items-center justify-between",children:["Approved Tickets",e.jsx("div",{className:"p-1 lg:p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(x,{className:"h-4 w-4 lg:h-5 lg:w-5"})})]})}),e.jsxs(Te,{children:[e.jsx("div",{className:"text-2xl lg:text-3xl font-bold",children:n.length}),e.jsx("p",{className:"text-emerald-100 mt-1 lg:mt-2 text-sm",children:"Ready for use"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[e.jsxs(ke,{children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5"}),"Recent Work Tickets"]})}),e.jsxs(Te,{children:[e.jsx("div",{className:"space-y-3",children:i.length>0?i.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V(t.status),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("p",{className:"font-medium text-sm",children:t.destination}),e.jsx("p",{className:"text-xs text-gray-600",children:t.purpose})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[t.fuel_required,"L"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Fuel"})]})]},t.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(j,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No work tickets yet"}),e.jsx("p",{className:"text-sm",children:"Submit your first work ticket request"})]})}),i.length>0&&e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsx(Me,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r("work-tickets"),children:"View All Tickets"})})]})]}),e.jsxs(ke,{children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Quick Actions"]})}),e.jsx(Te,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Me,{className:"w-full justify-start h-12",onClick:()=>r("work-tickets"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Submit New Work Ticket Request"]}),n.length>0&&e.jsxs(Me,{variant:"outline",className:"w-full justify-start h-12",onClick:()=>r("work-tickets"),children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"View Approved Authorizations (",n.length,")"]}),s.length>0&&e.jsxs(Me,{variant:"outline",className:"w-full justify-start h-12 text-yellow-700 border-yellow-200 hover:bg-yellow-50",onClick:()=>r("work-tickets"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Check Pending Requests (",s.length,")"]})]})})]})]})]})};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600",children:"Loading Fleet Management System..."})]})}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b shadow-sm sticky top-0 z-40",children:e.jsxs("div",{className:"w-full px-4 lg:px-6 py-3 lg:py-4",children:[e.jsxs("div",{className:"flex md:hidden items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg shadow-md "+(h?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:e.jsx(d,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-900",children:h?"Admin Portal":"Driver Portal"}),e.jsx("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:e.jsx("span",{children:"Fleet Management"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold text-sm "+(h?"bg-gradient-to-r from-blue-500 to-indigo-500":"bg-gradient-to-r from-green-500 to-emerald-500"),children:a.name?a.name.charAt(0).toUpperCase():a.email.charAt(0).toUpperCase()}),e.jsx(Me,{variant:"outline",size:"sm",onClick:()=>c(!l),className:"p-2",children:l?e.jsx(v,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl shadow-md "+(h?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:e.jsx(d,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:h?"Administrator Portal":"Driver Portal"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:"Fleet Management System"}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{className:"hidden lg:inline",children:"Ministry of Energy and Petroleum"}),e.jsx("span",{className:"lg:hidden",children:"Ministry of Energy"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-gray-50 border",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold "+(h?"bg-gradient-to-r from-blue-500 to-indigo-500":"bg-gradient-to-r from-green-500 to-emerald-500"),children:a.name?a.name.charAt(0).toUpperCase():a.email.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:a.name||a.email.split("@")[0]}),e.jsx(Ie,{variant:"secondary",className:"text-xs font-medium "+(h?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:h?"Administrator":"Driver"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{className:"hidden xl:inline",children:a.email}),e.jsx("span",{className:"xl:hidden",children:a.email.split("@")[0]}),b&&a.driverId&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["ID: ",a.driverId]})]})]})]})]}),e.jsxs(Me,{variant:"outline",size:"sm",onClick:I,className:"flex items-center gap-2 hover:bg-red-50 hover:border-red-200 hover:text-red-600 transition-colors",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium hidden lg:inline",children:"Logout"})]})]})]}),l&&e.jsx("div",{className:"md:hidden mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:a.name||a.email}),e.jsx(Me,{variant:"outline",size:"sm",onClick:I,className:"text-red-600 border-red-200 hover:bg-red-50",children:e.jsx(y,{className:"h-4 w-4"})})]})})]})}),"demo-admin-001"===a?.id&&e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white",children:e.jsx("div",{className:"w-full px-4 lg:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium",children:"ðŸš€ Welcome to the Digital Fleet System Demo!"})]}),e.jsx("span",{className:"hidden md:inline text-blue-100",children:"|"}),e.jsx("span",{className:"text-sm text-blue-100 hidden md:inline",children:"Explore all features - No login required for testing"})]})})}),e.jsx("div",{className:"w-full px-4 lg:px-6 py-4 lg:py-8",children:e.jsxs(Oe,{value:t,onValueChange:r,className:"w-full",children:[h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden mb-6",children:e.jsx(Pe,{className:"flex w-full overflow-x-auto p-1 space-x-1",children:[{value:"dashboard",icon:_,label:"Dashboard"},{value:"work-tickets",icon:j,label:"Tickets"},{value:"vehicles",icon:d,label:"Vehicles"},{value:"drivers",icon:w,label:"Drivers"},{value:"fuel",icon:k,label:"Fuel"},{value:"maintenance",icon:N,label:"Maintenance"},{value:"components",icon:S,label:"Components"},{value:"transfers",icon:T,label:"Transfers"},{value:"reports",icon:_,label:"Reports"}].map(t=>e.jsxs(ze,{value:t.value,className:"flex items-center gap-1 text-xs px-3 py-2 whitespace-nowrap",onMouseEnter:()=>Z(t.value),children:[e.jsx(t.icon,{className:"h-3 w-3"}),t.label]},t.value))})}),e.jsx("div",{className:"hidden md:block mb-8",children:e.jsx(Pe,{className:"grid w-full grid-cols-9",children:[{value:"dashboard",icon:_,label:"Dashboard"},{value:"work-tickets",icon:j,label:"Work Tickets"},{value:"vehicles",icon:d,label:"Vehicles"},{value:"drivers",icon:w,label:"Drivers"},{value:"fuel",icon:k,label:"Fuel"},{value:"maintenance",icon:N,label:"Maintenance"},{value:"components",icon:S,label:"Components"},{value:"transfers",icon:T,label:"Transfers"},{value:"reports",icon:_,label:"Reports"}].map(t=>e.jsxs(ze,{value:t.value,className:"flex items-center gap-2",onMouseEnter:()=>Z(t.value),children:[e.jsx(t.icon,{className:"h-4 w-4"}),t.label]},t.value))})})]}),b&&e.jsxs(Pe,{className:"grid w-full grid-cols-2 mb-8 max-w-md",children:[e.jsxs(ze,{value:"dashboard",className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),"Dashboard"]}),e.jsxs(ze,{value:"work-tickets",className:"flex items-center gap-2",onMouseEnter:()=>Z("work-tickets"),children:[e.jsx(j,{className:"h-4 w-4"}),"Work Tickets"]})]}),e.jsx(Le,{value:"dashboard",children:h?e.jsx(F,{}):e.jsx(q,{})}),e.jsx(Le,{value:"work-tickets",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(xt,{onTicketStatusChange:z})})}),h&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{value:"vehicles",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(ct,{})})}),e.jsx(Le,{value:"drivers",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(ut,{})})}),e.jsx(Le,{value:"fuel",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(mt,{})})}),e.jsx(Le,{value:"maintenance",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(pt,{})})}),e.jsx(Le,{value:"components",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(gt,{})})}),e.jsx(Le,{value:"transfers",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(ht,{})})}),e.jsx(Le,{value:"reports",children:e.jsx(o.Suspense,{fallback:e.jsx(vt,{}),children:e.jsx(bt,{})})})]})]})}),!!h&&e.jsx(dt,{apiBase:"/"}),(lt.isUsingMockData(),e.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-lg px-3 py-2 text-sm text-blue-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{children:lt.isUsingMockData()?"Demo Mode - Using Sample Data":"Public Demo - Auto-Login Enabled"})]})})}))]}):e.jsx(Ke,{onAuthSuccess:C})}class yt extends l.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("App crashed:",e,t)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee",minHeight:"100vh"},children:[e.jsx("h1",{style:{color:"red"},children:"âš ï¸ Application Error"}),e.jsx("p",{children:"The Digital Fleet System encountered an error and couldn't load."}),e.jsxs("details",{style:{marginTop:"10px",padding:"10px",backgroundColor:"white",border:"1px solid #ccc"},children:[e.jsx("summary",{children:"Error Details"}),e.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:"12px"},children:this.state.error?.toString()})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px"},children:"Reload Page"})]}):this.props.children}}console.log("ðŸš€ Digital Fleet System Starting..."),console.log("Environment:","production"),M.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(yt,{children:e.jsx(ft,{})})}));export{Me as B,ke as C,Ve as I,We as L,Oe as T,lt as a,Te as b,Ne as c,Se as d,Ie as e,Pe as f,ze as g,Le as h,$e as i,z as j,we as k,He as p};
